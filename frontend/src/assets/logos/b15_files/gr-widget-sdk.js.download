function LightenDarkenColor(e,t){var o=!1;"#"==e[0]&&(e=e.slice(1),o=!0);var i=parseInt(e,16),r=(i>>16)+t;255<r?r=255:r<0&&(r=0);e=(i>>8&255)+t;255<e?e=255:e<0&&(e=0);t=(255&i)+t;return 255<t?t=255:t<0&&(t=0),(o?"#":"")+(t|e<<8|r<<16).toString(16)}"undefined"==typeof iFrameResize&&function(_){"use strict";function h(e,t,o){"addEventListener"in _?e.addEventListener(t,o,!1):"attachEvent"in _&&e.attachEvent("on"+t,o)}function y(e,t,o){"removeEventListener"in _?e.removeEventListener(t,o,!1):"detachEvent"in _&&e.detachEvent("on"+t,o)}function r(e){return E+"["+(e="Host page: "+(t=e),_.top!==_.self&&(e=_.parentIFrame&&_.parentIFrame.getId?_.parentIFrame.getId()+": "+t:"Nested host page: "+t),e)+"]";var t}function o(e){return j[e]?j[e].log:p}function v(e,t){i("log",e,t,o(e))}function w(e,t){i("info",e,t,o(e))}function x(e,t){i("warn",e,t,!0)}function i(e,t,o,i){!0===i&&"object"==typeof _.console&&console[e](r(t),o)}function e(t){function i(){e("Height"),e("Width"),B(function(){L(u),I(b)},u,"init")}function e(e){var t=Number(j[b]["max"+e]),o=Number(j[b]["min"+e]),i=e.toLowerCase(),e=Number(u[i]);v(b,"Checking "+i+" is in range "+o+"-"+t),e<o&&(e=o,v(b,"Set "+i+" to min value")),t<e&&(e=t,v(b,"Set "+i+" to max value")),u[i]=""+e}function n(e){return f.substr(f.indexOf(":")+W+e)}function s(o,i){M(function(){var e,t;O("Send Page Info","pageInfo:"+(e=document.body.getBoundingClientRect(),t=u.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,_.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,_.innerWidth||0),offsetTop:parseInt(t.top-e.top,10),offsetLeft:parseInt(t.left-e.left,10),scrollTop:_.pageYOffset,scrollLeft:_.pageXOffset})),o,i)},32)}function l(e){e=e.getBoundingClientRect();return C(b),{x:Math.floor(Number(e.left)+Number(T.x)),y:Math.floor(Number(e.top)+Number(T.y))}}function d(e){var t=e?l(u.iframe):{x:0,y:0},o={x:Number(u.width)+t.x,y:Number(u.height)+t.y};v(b,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),_.top!==_.self?_.parentIFrame?_.parentIFrame["scrollTo"+(e?"Offset":"")](o.x,o.y):x(b,"Unable to scroll to requested position, window.parentIFrame not found"):(T=o,g(),v(b,"--"))}function g(){!1!==p("scrollCallback",T)?I(b):S()}function p(e,t){return P(b,e,t)}var o,r,a,c,m,f=t.data,u={},b=null;"[iFrameResizerChild]Ready"===f?function(){for(var e in j)O("iFrame requested init",G(e),document.getElementById(e),e)}():E===(""+f).substr(0,z)&&f.substr(z).split(":")[0]in j?(m=f.substr(z).split(":"),u={iframe:j[m[0]].iframe,id:m[0],height:m[1],width:m[2],type:m[3]},b=u.id,(c=u.type in{true:1,false:1,undefined:1})&&v(b,"Ignoring init message from meta parent page"),!c&&(a=!0,j[r=b]||(a=!1,x(u.type+" No settings for "+r+". Message was: "+f)),a)&&(v(b,"Received: "+f),o=!0,null===u.iframe&&(x(b,"IFrame ("+u.id+") not found"),o=!1),o&&function(){var e,o=t.origin,i=j[b].checkOrigin;if(i&&""+o!="null"&&!(i.constructor===Array?function(){var e=0,t=!1;for(v(b,"Checking connection is from allowed list of origins: "+i);e<i.length;e++)if(i[e]===o){t=!0;break}return t}():(e=j[b].remoteHost,v(b,"Checking connection is from: "+e),o===e)))throw new Error("Unexpected message received from: "+o+" for "+u.iframe.id+". Message was: "+t.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return 1}()&&function(){switch(j[b].firstRun&&(j[b].firstRun=!1),u.type){case"close":k(u.iframe);break;case"message":t=n(6),v(b,"MessageCallback passed: {iframe: "+u.iframe.id+", message: "+t+"}"),p("messageCallback",{iframe:u.iframe,message:JSON.parse(t)}),v(b,"--");break;case"scrollTo":d(!1);break;case"scrollToOffset":d(!0);break;case"pageInfo":s(j[b].iframe,b),r=b,o("Add ",h),j[r].stopPageInfo=a;break;case"pageInfoStop":j[b]&&j[b].stopPageInfo&&(j[b].stopPageInfo(),delete j[b].stopPageInfo);break;case"inPageLink":e=n(9),t=e.split("#")[1]||"",e=decodeURIComponent(t),(e=document.getElementById(e)||document.getElementsByName(e)[0])?(e=l(e),v(b,"Moving to in page link (#"+t+") at x: "+e.x+" y: "+e.y),T={x:e.x,y:e.y},g(),v(b,"--")):_.top!==_.self?_.parentIFrame?_.parentIFrame.moveToAnchor(t):v(b,"In page link #"+t+" not found and window.parentIFrame not found"):v(b,"In page link #"+t+" not found");break;case"reset":R(u);break;case"init":i(),p("initCallback",u.iframe),p("resizedCallback",u);break;default:i(),p("resizedCallback",u)}var e,r,t;function o(t,o){function i(){j[r]?s(j[r].iframe,r):a()}["scroll","resize"].forEach(function(e){v(r,t+e+" listener for sendPageInfo"),o(_,e,i)})}function a(){o("Remove ",y)}}())):w(b,"Ignored: "+f)}function P(e,t,o){var i=null,r=null;if(j[e]){if("function"!=typeof(i=j[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");r=i(o)}return r}function k(e){var t=e.id;v(t,"Removing iFrame: "+t),e.parentNode.removeChild(e),P(t,"closedCallback",t),v(t,"--"),delete j[t]}function C(e){null===T&&v(e,"Get page position: "+(T={x:void 0!==_.pageXOffset?_.pageXOffset:document.documentElement.scrollLeft,y:void 0!==_.pageYOffset?_.pageYOffset:document.documentElement.scrollTop}).x+","+T.y)}function I(e){null!==T&&(_.scrollTo(T.x,T.y),v(e,"Set page position: "+T.x+","+T.y),S())}function S(){T=null}function R(e){v(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),C(e.id),B(function(){L(e),O("reset","reset",e.iframe,e.id)},e,"reset")}function L(r){function o(e){function t(){for(var e in j)!function(t){function e(e){return"0px"===j[t].iframe.style[e]}null!==j[t].iframe.offsetParent&&(e("height")||e("width"))&&O("Visibility change","resize",j[t].iframe,t)}(e)}function o(e){v("window","Mutation observed: "+e[0].target+" "+e[0].type),M(t,16)}var i;c||"0"!==r[e]||(c=!0,v(a,"Hidden iFrame detected, creating visibility listener"),(i=_.MutationObserver||_.WebKitMutationObserver)&&function(){var e=document.querySelector("body");new i(o).observe(e,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0})}())}function e(e){var t;t=e,r.iframe.style[t]=r[t]+"px",v(r.id,"IFrame ("+a+") "+t+" set to "+r[t]+"px"),o(e)}var a=r.iframe.id;j[a]&&(j[a].sizeHeight&&e("height"),j[a].sizeWidth&&e("width"))}function B(e,t,o){o!==t.type&&m?(v(t.id,"Requesting animation frame"),m(e)):e()}function O(e,t,o,i){var r;i=i||o.id,j[i]&&(o&&"contentWindow"in o&&null!==o.contentWindow?(r=j[i].targetOrigin,v(i,"["+e+"] Sending msg to iframe["+i+"] ("+t+") targetOrigin: "+r),o.contentWindow.postMessage(E+t,r)):(w(i,"["+e+"] IFrame("+i+") not found"),j[i]&&delete j[i]))}function G(e){return e+":"+j[e].bodyMarginV1+":"+j[e].sizeWidth+":"+j[e].log+":"+j[e].interval+":"+j[e].enablePublicMethods+":"+j[e].autoResize+":"+j[e].bodyMargin+":"+j[e].heightCalculationMethod+":"+j[e].bodyBackground+":"+j[e].bodyPadding+":"+j[e].tolerance+":"+j[e].inPageLinks+":"+j[e].resizeFrom+":"+j[e].widthCalculationMethod}function a(o,e){var t,i,r,a,n,s=(t=o.id,""===t&&(o.id=(i=e&&e.id||b.id+g++,null!==document.getElementById(i)&&(i+=g++),t=i),p=(e||{}).log,v(t,"Added missing iframe ID: "+t+" ("+o.src+")")),t);function l(e){1/0!==j[s][e]&&0!==j[s][e]&&(o.style[e]=j[s][e]+"px",v(s,"Set "+e+" = "+j[s][e]+"px"))}function d(e){if(j[s]["min"+e]>j[s]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}s in j&&"iFrameResizer"in o?x(s,"Ignored iFrame, already setup."):(a=(a=e)||{},j[s]={firstRun:!0,iframe:o,remoteHost:o.src.split("/").slice(0,3).join("/")},function(){if("object"!=typeof a)throw new TypeError("Options is not an object")}(),function(e){for(var t in b)b.hasOwnProperty(t)&&(j[s][t]=(e.hasOwnProperty(t)?e:b)[t])}(a),j[s].targetOrigin=!0===j[s].checkOrigin?""===(n=j[s].remoteHost)||"file://"===n?"*":n:"*",v(s,"IFrame scrolling "+(j[s].scrolling?"enabled":"disabled")+" for "+s),o.style.overflow=!1===j[s].scrolling?"hidden":"auto",o.scrolling=!1===j[s].scrolling?"no":"yes",d("Height"),d("Width"),l("maxHeight"),l("minHeight"),l("maxWidth"),l("minWidth"),"number"!=typeof j[s].bodyMargin&&"0"!==j[s].bodyMargin||(j[s].bodyMarginV1=j[s].bodyMargin,j[s].bodyMargin=j[s].bodyMargin+"px"),r=G(s),h(o,"load",function(){var e,t;O("iFrame.onload",r,o),e=j[s].firstRun,t=j[s].heightCalculationMethod in f,!e&&t&&R({iframe:o,height:0,width:0,type:"init"})}),O("init",r,o),Function.prototype.bind&&(j[s].iframe.iFrameResizer={close:k.bind(null,j[s].iframe),resize:O.bind(null,"Window resize","resize",j[s].iframe),moveToAnchor:function(e){O("Move to anchor","moveToAnchor:"+e,j[s].iframe,s)},sendMessage:function(e){O("Send Message","message:"+(e=JSON.stringify(e)),j[s].iframe,s)}}))}function M(e,t){null===u&&(u=setTimeout(function(){u=null,e()},t))}function t(e){v("window","Trigger event: "+e),M(function(){s("Window "+e,"resize")},16)}function n(){"hidden"!==document.visibilityState&&(v("document","Trigger event: Visiblity change"),M(function(){s("Tab Visable","resize")},16))}function s(e,t){for(var o in j)i=o,"parent"===j[i].resizeFrom&&j[i].autoResize&&!j[i].firstRun&&O(e,t,document.getElementById(o),o);var i}function l(){function o(e,t){t&&(function(){if(!t.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">")}(),a(t,e),i.push(t))}var i;return function(){for(var e=["moz","webkit","o","ms"],t=0;t<e.length&&!m;t+=1)m=_[e[t]+"RequestAnimationFrame"];m||v("setup","RequestAnimationFrame not supported")}(),h(_,"message",e),h(_,"resize",function(){t("resize")}),h(document,"visibilitychange",n),h(document,"-webkit-visibilitychange",n),h(_,"focusin",function(){t("focus")}),h(_,"focus",function(){t("focus")}),function(e,t){switch(i=[],typeof t){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(t||"iframe"),o.bind(void 0,e));break;case"object":o(e,t);break;default:throw new TypeError("Unexpected data type ("+typeof t+")")}return i}}var d,g=0,p=!1,c=!1,W="message".length,E="[iFrameSizer]",z=E.length,T=null,m=_.requestAnimationFrame,f={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},j={},u=null,b={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){x("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};_.jQuery&&((d=jQuery).fn?d.fn.iFrameResize=function(o){return this.filter("iframe").each(function(e,t){a(t,o)}).end()}:w("","Unable to bind to jQuery, it is not fully loaded.")),"object"==typeof module&&"object"==typeof module.exports?module.exports=l():_.iFrameResize=_.iFrameResize||l()}(window||{}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),function(p,k){var r="localStorage"in window;if(r)try{window.localStorage.setItem("foo","bar"),window.localStorage.removeItem("foo")}catch(e){r=!1}function e(){this.w=p,this.d=k}var C={obj:{},local:function(e,t,o){var i=null;if(r)"get"==e?i=localStorage.getItem(t):"set"==e&&localStorage.setItem(t,o);else{if("get"==e)return this.obj[t]||void 0;"set"==e&&(this.obj[t]=o)}return i},session:function(e,t,o){var i=null;if(r)"get"==e?i=sessionStorage.getItem(t):"set"==e&&sessionStorage.setItem(t,o);else{if("get"==e)return this.obj[t]||void 0;"set"==e&&(this.obj[t]=o)}return i}};e.prototype={config:{},iframe:"",isMobileTab:!1,isIframe:!1,userPoints:0,couponCopied:null,elements:{progress:null,progressPoints:null,progressWorth:null,footer:null,progressTip:null,progressText:null},init:function(e){var t,o=this;if(o.config=e,!o.validateConfig()){o.setSiteID=function(e){delete GRWidgetObj.setSiteID;var t=k.getElementById("gr-setidsite-default");null!=t&&t.remove();try{if("failed"==e.status)return!1;o.config.site.id=e.id_site}catch(e){}};var i=localStorage.getItem("GR_id_site");if(void 0===o.config.user.order_id||"gr_shopify"!=o.config.site.platform)return;"undefined"==i||"null"==i||null==i||""==i?o.loadScript(o.config.callback_url+"/user/getIdSite?domain="+o.config.site.domain+"&callback=GRWidgetObj.setSiteID","gr-setidsite-default"):o.config.site.id=i}void 0!==o.config.user.order_id&&null!=localStorage.getItem("gr_paybypoints_coupon")&&""!=localStorage.getItem("gr_paybypoints_coupon")?(o.checkRedeemCoupon(),localStorage.removeItem("gr_paybypoints_coupon")):null==localStorage.getItem("gr_paybypoints_coupon")||""==localStorage.getItem("gr_paybypoints_coupon")||void 0!==(t=JSON.parse(localStorage.getItem("gr_paybypoints_coupon"))).ts&&""!=t.ts&&t.ts+36e5<(new Date).getTime()&&o.checkRedeemCoupon(1),o.config.iframeLoaded=0,o.config.iframeUrl="",o.isMobileTab=(i=!1,t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(i=!0),i);try{var r=new Date;timestamp=r.getTime(),o.config.now=timestamp-timestamp%9e5,o.isIframe=window.self!==window.top}catch(e){o.config.now=o.config.version}void 0===p.iFrameResize&&o.loadScript("//cdn.appsmav.com/am/lib/js/iframeResizer.min.js","gr-resizer"),o.loadEmbedCampaign(),window.addEventListener("message",o.receiveMessage,!1),o.loadScript(o.config.aws_cdn_url+"/assets/widgets/"+o.getConfigFile(o.config.site.id),"gr-config",function(e){e.type,o.configLoadCb(o,e)}),-1!=location.href.indexOf("grmsuri=")&&((i=o.getUserEncryptData(o.config))&&-1==location.href.indexOf("grdnr=")?(localStorage.removeItem("gr_platform_page_url"),localStorage.removeItem("gr_micro_uri"),redirect_uri=decodeURIComponent(o.getParameterByName("grmsuri",location.href)),window.top.location.href=redirect_uri+(0<redirect_uri.indexOf("?")?"&":"?")+i):(localStorage.setItem("gr_micro_site_url",decodeURIComponent(o.getParameterByName("grmsuri",location.href))),o.setLocalStorageWithExpiry("gr_micro_uri",1,18e5)))},setLocalStorageWithExpiry:function(e,t,o){try{const r=new Date;var i={value:t,expiry:r.getTime()+o};localStorage.setItem(e,JSON.stringify(i))}catch(e){}},getLocalStorageWithExpiry:function(e){try{var t=localStorage.getItem(e);if(t){t=JSON.parse(t);const o=new Date;if(o.getTime()<t.expiry)return t.value;localStorage.removeItem(e)}}catch(e){}return null},receiveMessage:function(e){try{var t,o,i;"referral-signin"==e.data?localStorage.setItem("gr_show_popup",1):"refresh-points"==e.data?GRWidgetObj.refreshPoints(1):"object"==typeof e.data&&(void 0!==e.data.platfrom_singup&&"true"==e.data.platfrom_singup&&(localStorage.setItem("gr_platform_page_url",window.location),localStorage.setItem("gr_campaign_url",e.data.url_competition),localStorage.removeItem("gr_micro_uri")),void 0!==e.data.id_widget&&""!=e.data.id_widget&&localStorage.setItem("gr_id_widget",e.data.id_widget),void 0!==e.data.action&&("close-popin"==e.data.action?(localStorage.setItem("gr_show_popup",1),GRWidgetObj.hideLoyaltyPopup(e.data.id_widget),GRWidgetObj.hidePopup(e.data.id_widget)):"ecwidjs-signin"==e.data.action?(localStorage.setItem("gr_show_popup",1),GRWidgetObj.hideLoyaltyPopup(e.data.id_widget),GRWidgetObj.hidePopup(e.data.id_widget),"object"==typeof Ecwid&&void 0!==Ecwid.getInitializedWidgets&&0<Ecwid.getInitializedWidgets().length&&void 0!==Ecwid.openPage?Ecwid.openPage("signin"):void 0!==e.data.url&&""!=e.data.url&&(window.top.location.href=e.data.url)):"remove-spam-protection"==e.data.action&&(localStorage.removeItem("is_spam_protected"),GRWidgetObj.refreshPoints(1,e.data.id_widget))),t=GRWidgetObj.isPlatFormLogin(AMGRConfig.user),o=localStorage.getItem("gr_auth_error_cnt"),void 0!==e.data.id_user&&"0"==e.data.id_user&&1==t&&"1"!=localStorage.getItem("is_user_role_restricted")&&(null==o||o<2)&&GRWidgetObj.loginUser(),o=localStorage.getItem("GRPlatformLoginSession"),void 0===e.data.mavtoken||null!=o||void 0!==(o=e.data.mavtoken)&&""!=o&&null!=o&&"null"!=o&&"NULL"!=o&&(localStorage.setItem("GRmavtoken",o),sessionStorage.setItem("GRmavtoken",o),void 0!==(o=document.getElementById("grLoyaltyIframe"))&&null!=o&&(i=o.src,o.src=this.replaceMavToken(i)),void 0!==(o=document.getElementById("grWidgetIframe"))&&null!=o&&(i=o.src,o.src=this.replaceMavToken(i))))}catch(e){}},isPlatFormLogin:function(e){try{if(void 0!==e.email&&""!=e.email&&void 0!==e.id&&""!=e.id)return!0}catch(e){}return!1},loginUser:function(){try{var e="",t=this.getQueryString();if(t.length<=0)throw{msg:"Invalid request"};e="?callback=GRWidgetObj.setSession",e+="&"+t,null!=localStorage.getItem("gr_paybypoints_coupon")&&""!=localStorage.getItem("gr_paybypoints_coupon")&&localStorage.removeItem("gr_paybypoints_coupon"),this.loadScript(this.config.callback_url+"/user/authenticate"+e,"gr-setsession-default")}catch(e){}},setSession:function(o){try{var t=this,e=k.getElementById("gr-setsession-default");if(null!=e&&e.remove(),null==o||void 0===o.status||"failed"==o.status||void 0===o.mavtoken)throw{msg:"Invalid data"};var i=localStorage.getItem("gr_id_widget");if(localStorage.setItem("GRmavtoken",o.mavtoken),sessionStorage.setItem("GRmavtoken",o.mavtoken),localStorage.setItem("GRPlatformLoginSession",(new Date).getTime()+12e5),localStorage.setItem("gr_user_email",AMGRConfig.user.email),localStorage.setItem("GRUserPlatformLogin",1),localStorage.removeItem("gr_last_order_id"),t.configLoadCb(t),void 0!==o.is_user_role_restricted&&localStorage.setItem("is_user_role_restricted",o.is_user_role_restricted),void 0===o.points||isNaN(o.points)||void 0===o.available_points||isNaN(o.available_points))throw{msg:"Invalid data"};setTimeout(function(){var e,t=localStorage.getItem("GR_loyalty_id_widget");""!=t&&null!=t&&"null"!=t&&(e="gr_ecwid"!=GRWidgetObj.config.site.platform,GRWidgetObj.showPointsOnWidget(o,t,e))},1e3),setTimeout(function(){t.reloadEmbedCampaign()},1500),void 0!==o.redeemed_coupon&&""!=o.redeemed_coupon?(o.redeemed_coupon.ts=(new Date).getTime(),localStorage.setItem("gr_paybypoints_coupon",JSON.stringify(o.redeemed_coupon))):void 0!==o.redeemed_coupon&&""==o.redeemed_coupon&&null!=localStorage.getItem("gr_paybypoints_coupon")&&""!=localStorage.getItem("gr_paybypoints_coupon")&&localStorage.removeItem("gr_paybypoints_coupon");var r,a,n=localStorage.getItem("gr_platform_page_url"),s=localStorage.getItem("gr_micro_site_url");null!=n?(r=localStorage.getItem("gr_widget_campaign_url"),a=localStorage.getItem("gr_campaign_url"),e=localStorage.getItem("gr_show_popup"),localStorage.removeItem("gr_platform_page_url"),localStorage.removeItem("gr_campaign_url"),localStorage.removeItem("gr_id_widget"),localStorage.removeItem("gr_show_popup"),localStorage.removeItem("gr_micro_uri"),localStorage.removeItem("gr_micro_site_url"),null==a||-1==a.indexOf(r)&&null==e?window.top.location.href=n:setTimeout(function(){GRWidgetObj.showPopup(i)},1e3)):null!=s?(n=GRWidgetObj.getLocalStorageWithExpiry("gr_micro_uri"),localStorage.removeItem("gr_micro_uri"),localStorage.removeItem("gr_micro_site_url"),null!=n&&(n=GRWidgetObj.getUserEncryptData(GRWidgetObj.config),s=s+(0<s.indexOf("?")?"&":"?")+n,window.top.location.href=s)):void 0!==i&&null!=i&&o.mavtoken&&GRWidgetObj.refreshCampaigns(i),GRWidgetObj.loadPointsRedeemPopup(GRWidgetObj.config.siteConfig.pay_points)}catch(e){console.log("ERROR"+e);var l=localStorage.getItem("gr_auth_error_cnt");"undefined"===l||null==l||""==l?l=1:l++,localStorage.setItem("gr_auth_error_cnt",l),1<l&&(localStorage.setItem("GRPlatformLoginSession",(new Date).getTime()+12e5),localStorage.setItem("gr_user_email",AMGRConfig.user.email)),t.configLoadCb(t)}},logoutUser:function(){var i=this;i.logoutSuccess=function(e){delete GRWidgetObj.logoutSuccess;var t=k.getElementById("gr-logout-default");null!=t&&t.remove();try{var o=localStorage.getItem("gr_user_points");if(null!=o&&0<o.length&&localStorage.removeItem("gr_user_points"),null!=localStorage.getItem("gr_paybypoints_coupon")&&""!=localStorage.getItem("gr_paybypoints_coupon")&&localStorage.removeItem("gr_paybypoints_coupon"),localStorage.removeItem("GRPlatformLoginSession"),localStorage.removeItem("gr_user_email"),localStorage.removeItem("gr_auth_error_cnt"),localStorage.removeItem("is_spam_protected"),localStorage.removeItem("gr_validation_error"),localStorage.removeItem("GRUserPlatformLogin"),null==e||void 0===e.status)throw{msg:"Invalid data"};i.configLoadCb(i),i.reloadEmbedCampaign()}catch(e){i.configLoadCb(i)}};var e=void 0!==(e=localStorage.getItem("GRmavtoken"))&&""!=e&&null!=e&&"null"!=e&&"NULL"!=e?"&mavtoken="+e:"";i.loadScript(i.config.callback_url+"/user/logoutCampaign?app="+i.config.site.platform+"&id_site="+i.config.site.id+e+"&callback=GRWidgetObj.logoutSuccess","gr-logout-default")},getConfig:function(e){try{if(void 0===e||void 0===e.error||void 0===e.widget)throw{msg:"Invalid data"};if(0!=e.error)throw{msg:"Error found"};p.gr_config=e.widget,C.session("set","grwidget_config",JSON.stringify(e.widget)),this.configLoadCb(this)}catch(e){}},configLoadCb:function(a,e){try{if("undefined"==typeof gr_config&&void 0!==a.config.site.id&&null!=e&&"error"==e.type){var t=C.session("get","grwidget_config");if(null==t||""==t||"undefined"==t){var o=window.location.hostname;return void a.loadScript(a.config.callback_url+"/widget/getConfig?id_site="+a.config.site.id+"&platform="+a.config.site.platform+"&host="+o+"&callback=GRWidgetObj.getConfig&v="+a.config.now,"gr-config-default")}p.gr_config=JSON.parse(t)}if(1!=gr_config.site_status)return;a.config_ready=1;o=a.isPlatFormLogin(a.config.user),t=localStorage.getItem("GRPlatformLoginSession");if(1==o?("undefined"===(o=localStorage.getItem("gr_auth_error_cnt"))||null==o||o<2)&&(null==t?(a.loginUser(),a.config_ready=0):null!=(o=localStorage.getItem("gr_user_email"))&&o!=a.config.user.email&&"gr_ecwid"!=a.config.site.platform&&(setTimeout(function(){a.logoutUser()},1500),a.config_ready=0)):null!=t&&"gr_ecwid"!=a.config.site.platform&&void 0===a.config.user.order_id?void 0===a.config.user.email||""!=a.config.user.email&&"null"!=a.config.user.email&&null!=a.config.user.email||(setTimeout(function(){a.logoutUser()},1500),a.config_ready=0):(null!=localStorage.getItem("is_user_role_restricted")&&null==t&&localStorage.removeItem("is_user_role_restricted"),null!=(i=localStorage.getItem("gr_auth_error_cnt"))&&""!=i&&0<i&&localStorage.removeItem("gr_auth_error_cnt")),1!=a.config_ready)return;a.config.siteConfig=gr_config,a.loadBonusPopup(a.config.siteConfig.bonus_settings),void 0!==AMGRConfig.user.order_id&&""!=AMGRConfig.user.order_id?(void 0!==a.config.user.order_id&&null!=localStorage.getItem("gr_paybypoints_coupon")&&""!=localStorage.getItem("gr_paybypoints_coupon")&&localStorage.removeItem("gr_paybypoints_coupon"),a.resetPayByPointsPopup()):a.loadPointsRedeemPopup(a.config.siteConfig.pay_points);var i=k.createElement("div");i.innerHTML="<style>"+a.getWidgetCss()+"</style>",k.body.appendChild(i),void 0!==a.config.siteConfig.site_custom_config&&(custom_config=a.config.siteConfig.site_custom_config,void 0!==custom_config.css&&""!=custom_config.css&&((i=document.createElement("style")).innerHTML=custom_config.css,document.body.appendChild(i)),void 0!==custom_config.js&&""!=custom_config.js&&((i=document.createElement("script")).innerHTML=custom_config.js,document.body.appendChild(i))),a.loadReferralPopup();function r(e,t){if(0!=e){a.loadWidget(t);var o,i=t.settings.app_url;if(-1!=i.indexOf("/referral/")&&(e=localStorage.getItem("is_spam_protected"),r=localStorage.getItem("gr_validation_error"),1!=e&&1!=r&&1==a.isPlatFormLogin(AMGRConfig.user)&&a.refreshPoints(0,t.id_widget)),-1!=i.indexOf("/purchase/")){var r=localStorage.getItem("gr_guest_email_"+t.id_widget);if(void 0===AMGRConfig.user.email||""==AMGRConfig.user.email||null==AMGRConfig.user.email?null!=r&&"null"!=r&&""!=r||"gr_ecwid"==AMGRConfig.site.platform&&1==localStorage.getItem("GRUserPlatformLogin")||localStorage.removeItem("gr_pc_token_"+t.id_widget):null!=r&&""!=r&&localStorage.removeItem("gr_pc_token_"+t.id_widget),0==t.widget_status)return a.hideWidget(t.id_widget),!1}0==a.checkWidgetVisibleForUser()&&-1!=i.indexOf("/referral/")||(o=a.getParameterByName("id_widget",location.href),1==t.behaviour.force_open&&1!=C.local("get","gr_auto_opener_"+t.id_widget)||-1!=location.href.indexOf("showgr=1")&&1!=C.session("get","gr_is_auto_open_"+t.id_widget)?(""!=o?(a.showWidget(o),setTimeout(function(){a.showPopup(o)},2e3)):(a.showWidget(t.id_widget),setTimeout(function(){a.showPopup(t.id_widget)},2e3)),1==t.behaviour.force_open&&C.local("set","gr_auto_opener_"+t.id_widget,1),-1!=location.href.indexOf("showgr=1")&&C.session("set","gr_is_auto_open_"+t.id_widget,1)):""!=o?(a.showWidget(o),setTimeout(function(){a.showPopup(o)},2e3)):(a.showWidget(t.id_widget),a.bindBehaviours(t)))}}for(var n in a.config.siteConfig.widget){var s,l=a.config.siteConfig.widget[n],d=l.behaviour.allowed_countries,g=l.settings.app_url;void 0!==AMGRConfig.user.order_id&&""!=AMGRConfig.user.order_id&&-1!=g.indexOf("/purchase/")?(s=l.id_widget,1==l.widget_status&&r(!0,l),void 0!==l.settings.allow_guest_order&&0==l.settings.allow_guest_order&&void 0!==AMGRConfig.user.email&&""==AMGRConfig.user.email||(localStorage.setItem("gr_last_order_id",AMGRConfig.user.order_id),0<d.length?null!=(g=C.local("get","gr_ip_country"))&&(d.forEach(function(e,t){d[t]=e.toLowerCase()}),-1!=d.indexOf(g)&&GRWidgetObj.showPopup(s)):GRWidgetObj.showPopup(s))):0<d.length?a.isValidCountry(d,r,l):r(!0,l)}}catch(e){}},showWidgetPopup:function(e){try{1==this.isPlatFormLogin(this.config.user)&&1==localStorage.getItem("gr_show_popup")&&(GRWidgetObj.showPopup(e),localStorage.removeItem("gr_show_popup"))}catch(e){}},validateConfig:function(){try{var e=!0,t=this;return(void 0===t.config.site||void 0===t.config.site.id||t.config.site.id.length<=0)&&(e=!1),void 0===t.config.version&&(t.config.version="1533036187918"),localStorage.setItem("GR_id_site",t.config.site.id),C.session("set","gr_env",t.config.env),e}catch(e){}},getUserEncryptData:function(e){try{var t,o,i="";void 0!==e.user.id&&""!=e.user.id&&void 0!==e.user.email&&""!=e.user.email&&("sb_ecwid"!=e.site.platform?i+="acidMav="+e.site.id+"&uniqueID=":i+="acidMav=&uniqueID="+e.site.id,void 0!==e.user.name&&""!=e.user.name&&null!=e.user.name&&"null"!=e.user.name&&(t=e.user.name.replace("&amp;","&"),(o=document.createElement("textarea")).innerHTML=t,t=encodeURI(o.value)),i+="&app="+e.site.platform+"&grcli="+e.user.id+"&gremc="+e.user.email+"&grcln="+t,i="grtoken="+btoa(i))}catch(e){}return i},isValidCountry:function(o,i,r){try{var e=C.local("get","gr_ip_country");null!=e?(o.forEach(function(e,t){o[t]=e.toLowerCase()}),-1==o.indexOf(e)?i(!1,r):i(!0,r)):(this.processGeoIP=function(e){delete GRWidgetObj.processGeoIP;try{if(null==e||void 0===e.country)throw{msg:"Invalid data"};var t=e.country.toLowerCase();if(C.local("set","gr_ip_country",t),o.forEach(function(e,t){o[t]=e.toLowerCase()}),-1==o.indexOf(t))throw{msg:"User not allowed"};i(!0,r)}catch(e){i(!1,r)}},this.loadScript(this.config.callback_url+"/widget/getGeoCountry?id_site="+this.config.site.id+"&callback=GRWidgetObj.processGeoIP","gr-geo-ip"))}catch(e){}},sendAjax:function(e,t,o){try{var i=p.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");i.onreadystatechange=function(){4==this.readyState&&(200==this.status?o(this.responseText):o(null,this.status))},i.open(""==t?"GET":"POST",e,!0),i.send(t)}catch(e){}},getConfigFile:function(e){try{var t=e%100,o=e%1e3;return"gr_ecwid"==this.config.site.platform&&(o="ecwid/"+o),o+"/"+t+"/"+e+".js?v="+this.config.now}catch(e){}},loadScript:function(e,t,o){try{if(null!=k.getElementById(t))return;var i=k.createElement("script");i.type="text/javascript",i.id=t,i.async=!0,void 0!==o&&(i.onload=o),void 0!==o&&(i.onerror=o),i.src=e;var r=k.getElementsByTagName("script")[0];r.parentNode.insertBefore(i,r)}catch(e){}},loadStyle:function(e,t){try{if(null!=k.getElementById(t))return;var o=k.createElement("link");o.type="text/css",o.id=t,o.rel="stylesheet",o.href=e;var i=k.getElementsByTagName("link")[0];i.parentNode.insertBefore(o,i)}catch(e){}},openInNewTab:function(e){try{var t=this.config.siteConfig.widget[e];w_settings=t.settings;var o=this.getAppUrl(t);w_settings.app_url;""!=o&&(-1!=o.indexOf("/referral/")&&void 0!==w_settings.widget_click_navigate_url&&""!=w_settings.widget_click_navigate_url?(o=w_settings.widget_click_navigate_url,this.refreshPoints(1,e),setTimeout(function(){window.open(o,"_self")},1e3)):window.open(o,"_blank").focus())}catch(e){}},changeRedeemPopupDesc:function(e,t,o,i){try{var r=parseInt(t/o),r=i.replace("99",r),a=e.replace("{points}",t);return a=(a=a.replace("{points_label}",gr_config.locale.points)).replace("{points_value}",r)}catch(e){}},loadPointsRedeemPopup:function(e){var t=localStorage.getItem("gr_user_points");try{if(this.config.user.email.length<=0)throw{msg:"No user email"};if("1"==localStorage.getItem("is_user_role_restricted"))throw{msg:"User role restricted"};if(null!=t&&0<t.length){var o=JSON.parse(t);if(void 0===o.label||o.label.length<=0||(void 0===o.available_points||o.available_points<=0)&&null==localStorage.getItem("gr_paybypoints_coupon"))throw{msg:"Invalid user points"};if(void 0===e.redeem_status||1!=e.redeem_status)throw{msg:"Redeem points not enabled"};var i=parseInt(o.available_points),r=parseFloat(e.redeem_point_per_dollar);if(i/r<1&&null==localStorage.getItem("gr_paybypoints_coupon"))throw{msg:"Not enough points"};var a=gr_config.locale,n=GRWidgetObj.changeRedeemPopupDesc(a.redeem_popup_desc,i,r,gr_config.pay_points.currency_format),s=k.createElement("div"),l=gr_config.locale.langDir,o="center";void 0!==e.redeem_popup_position&&""!=e.redeem_popup_position&&(o=e.redeem_popup_position),s.innerHTML='<div id="gr_paybypoints_widget" class="grPbyP-'+o+'" dir="'+l+'" style="display: none;">                    <div class="grPbyP-box" id="gr_paybypoints_box" style="display: none;">                    <div style="display:none;" id="grPbyP_loader"><i></i></div>                    <div class="grPbyP-close" onclick="GRWidgetObj.hidePayByPoints();">&times;</div>                    <div id="grPbyP_info" style="display: block;">                        <div class="grPbyP-paddingBox">                            <div class="grPbyP-title">'+n+'</div>                            <div class="grPbyP-range">                                <div class="grPbyP-rangeBox">                                    <input name="grpointsrange" id="grpointsrange" type="range" value="0" min="0" max="'+i+'" oninput="GRWidgetObj.pointsRedeemSlide(this);" step="'+r+'" onchange="GRWidgetObj.pointsRedeemSlide(this);" step="'+r+'" data-ratio="'+r+'" />                                    <div class="grPbyP-progressWrap">                                        <div class="grPbyP-progress" id="grPbyP_rangeProgress"></div>                                    </div>                                </div>                                <div class="grPbyP-progressTip">'+a.label_slide_points+'</div>                                <div class="grPbyP-progressText" style="display: none;">                                    <span id="grPbyP_progressPoints">0</span> '+a.points+'                                 </div></div></div>                         <div id="grPbyP_foot" class="disabled">                            <div style="display:none;" id="grPbyP_error"></div>                            <div role="button" class="grPbyP-redeemLink" onclick="GRWidgetObj.redeemPoints();return false;">'+a.claim_now+' <span id="grPbyP_progressWorth"></span> <i></i>                            </div>                        </div>                    </div>                    <div id="grPbyP_couponBlock" class="grPbyP-paddingBox" style="display: none;">                        <div class="am-widgetSprinkles"> <div class="am-widgetSprinkles-1"></div><div class="am-widgetSprinkles-2"></div><div class="am-widgetSprinkles-3"></div><div class="am-widgetSprinkles-4"></div><div class="am-widgetSprinkles-5"></div><div class="am-widgetSprinkles-6"></div><div class="am-widgetSprinkles-7"></div></div>                        <div class="grPbyP-tick"><i>tick</i></div>                        <div class="grPbyP-redeemInfo">                            '+a.congratulations+'<br/> <span id="grPbyP_couponPoints">0</span> '+a.points+'                             (<span id="grPbyP_couponWorth">0</span>)                        </div>                        <div id="grPbyP_result"></div>                    </div></div><div class="grPbyP-icon" id="grPbyP_icon" onclick="GRWidgetObj.handlePayByPointsIcon();" style="display: block;">                    <figure><img src="'+e.redeem_w_image+'"><div id="grPbyP_tip" class="showOnce">'+n+"</div></figure></div></div>",s.innerHTML+="<style>div#gr_paybypoints_widget{color:#000;font-family:sans-serif;font-family:inherit;font-size:16px;line-height:1.35;position:fixed;bottom:100px;right:25px;z-index:2147483654}div.grPbyP-box *{box-sizing:border-box}div.grPbyP-box{animation:showpaybypoints .4s;bottom: 35px;border-radius:10px;background:#fff;box-shadow:0 20px 24px rgba(38,38,38,.24),0 3px 4px rgba(0,0,0,.06);text-align:center;position:relative;width:350px;transform-origin:bottom right;right: 24px;border: 1px solid #f4f4f4;border-top: 3px solid "+e.rp_text_color+";}div.grPbyP-paddingBox{padding:30px 30px 20px}div.grPbyP-box .grPbyP-close{color:#000;cursor:pointer;font-size:20px;font-family:sans-serif;position:absolute;top:5px;right:10px;opacity:.3;z-index:2;transition:.35s}div.grPbyP-box .grPbyP-close:hover{opacity:.8}div.grPbyP-title{color:"+e.rp_text_color+";font-size:18px;font-weight:700;margin-bottom:20px}div.grPbyP-description{margin-bottom:10px}div.grPbyP-range{font-size:80%}div.grPbyP-rangeBox{position:relative;background:#ececec;border-radius:50px;margin:10px auto 20px;width:210px;height:20px;direction:ltr;}div.grPbyP-range input[type=range]{width:100%;appearance:none;-webkit-appearance:none;background:transparent;margin:0;padding:0;height:20px;border:0;box-shadow:none;position:relative;z-index:2}div.grPbyP-progressWrap{position:absolute;border-radius:50px;overflow:hidden;left:0;top:0;height:20px;width:100%;z-index:0}div.grPbyP-progress{background:"+e.rp_text_color+";background:linear-gradient(270deg,"+e.rp_text_color+","+LightenDarkenColor(e.rp_text_color,90)+");border-radius:0;height:100%;width:100%;margin-left:-100%}div.grPbyP-range input[type=range]:focus{outline:none}div.grPbyP-range input[type=range]::-webkit-slider-runnable-track{width:100%;height:20px;cursor:pointer;box-shadow:none;background:transparent;border-radius:25px;border:0 none;margin:0}div.grPbyP-range input[type=range]::-webkit-slider-thumb{box-shadow:0 0 18px "+e.rp_text_color+";height:34px;width:34px;border-radius:50%;border:3px solid #fff;background:"+e.rp_text_color+";cursor:pointer;-webkit-appearance:none;margin-top:-7px}div.grPbyP-range input[type=range]::-moz-range-track{width:100%;height:20px;cursor:pointer;box-shadow:none;background:transparent;border-radius:25px;border:0 none}div.grPbyP-range input[type=range]::-moz-range-thumb{box-shadow:0 0 18px "+e.rp_text_color+";height:34px;width:34px;border-radius:50%;border:5px solid #fff;background:"+e.rp_text_color+";cursor:pointer;appearance:none;margin-top:-7px}div.grPbyP-range input[type=range]::-ms-track{width:100%;height:20px;cursor:pointer;box-shadow:none;background:transparent;border-radius:25px;border:0 none}div.grPbyP-range input[type=range]::-ms-thumb{box-shadow:0 0 18px "+e.rp_text_color+";height:20px;width:20px;border-radius:50%;border:3px solid #fff;background:"+e.rp_text_color+";cursor:pointer;appearance:none;margin-top:0px}div.grPbyP-progressTip{opacity:.5;line-height:16px}div.grPbyP-redeemLink{border-top:1px solid #eee;border-radius:0 0 10px 10px;color:#0075ff;cursor:pointer;font-size:95%;font-weight:700;line-height:1;letter-spacing:0;margin:0;padding:16px;user-select:none;transition:.4s}div.grPbyP-redeemLink i{background:#0075ff;display:inline-block;width:17px;height:2px;margin-left:4px;position:relative;top:-1px;vertical-align:middle;transform:translateX(0);transition:.4s}div.grPbyP-redeemLink i:before{content:'';border-right:2px solid #0075ff;border-bottom:2px solid #0075ff;display:inline-block;width:9px;height:9px;position:absolute;top:-4px;left:7px;transform:rotate(-45deg)}div.grPbyP-redeemLink:hover{background:#f8f8f8;letter-spacing:1px}div.grPbyP-redeemLink:hover i{transform:translateX(5px)}div#grPbyP_foot{position:relative;}div#grPbyP_foot.disabled{cursor:not-allowed;}div#grPbyP_foot.disabled div.grPbyP-redeemLink{pointer-events:none;color:#ddd}div#grPbyP_foot.disabled div.grPbyP-redeemLink i{background:#ccc}div#grPbyP_foot.disabled div.grPbyP-redeemLink i:before{border-right-color:#ccc;border-bottom-color:#ccc}#grPbyP_error{position:absolute;width:100%;color:red;font-size:12px;bottom:100%;margin-bottom:4px}div#grPbyP_loader{position:absolute;left:0;top:0;width:100%;height:100%;background:rgb(255 255 255 / .8);border-radius:0 0 10px 10px;z-index:10}div#grPbyP_loader i{display:inline-block;width:20px;height:20px;border-radius:50%;border:2px solid #0075ff;border-left-color:transparent;animation:loader-spinner .5s infinite linear;margin-top:10px}@keyframes loader-spinner{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}@keyframes showpaybypoints{from{opacity:0;transform:scale(.5);}to{opacity:1;transform:scale(1);}}@keyframes showpaybypoints2{from{opacity:0;transform:scale(.5);}to{opacity:1;transform:scale(1);}}div.grPbyP-progressText{color:#e25808;font-weight:700;font-size:90%;letter-spacing:.5px;line-height:16px}div.am-widgetSprinkles{position:absolute;left:50%;top:0;font-size:10px}div.am-widgetSprinkles>div{animation:sprinklesIn .6s;font-size:1em;width:1em;height:1em;border-radius:50%;position:absolute;background-color:#ffc549;opacity:1}@keyframes sprinklesIn{from{opacity:0;transform:translate(0,0)}}div.am-widgetSprinkles div.am-widgetSprinkles-1{background:#4d39de;transform:translate(30px,10px)}div.am-widgetSprinkles div.am-widgetSprinkles-2{font-size:.8em;background:#48a0ee;transform:translate(70px,80px)}div.am-widgetSprinkles div.am-widgetSprinkles-3{font-size:1.5em;background:#fd8989;transform:translate(120px,70px)}div.am-widgetSprinkles div.am-widgetSprinkles-4{font-size:.8em;background:#96c15d;transform:translate(120px,30px)}div.am-widgetSprinkles div.am-widgetSprinkles-5{font-size:.9em;background:#ffd905;transform:translate(-60px,40px)}div.am-widgetSprinkles div.am-widgetSprinkles-6{font-size:.7em;background:#ff2bba;transform:translate(-100px,80px)}div.am-widgetSprinkles div.am-widgetSprinkles-7{font-size:.7em;background:#37cbff;transform:translate(-140px,30px)}div.grPbyP-tick{width:54px;height:54px;display:inline-block;border:5px solid #24cc64;border-radius:50%;position:relative;font-size:0;color:transparent;animation:grPbyPTick .4s}@keyframes grPbyPTick{0%,60%{opacity:0;transform:scale(0)}100%{opacity:1;transform:scale(1)}}div.grPbyP-tick i{width:20px;height:10px;border-bottom:5px solid #24cc64;display:block;border-left:5px solid #24cc64;transform:rotate(-45deg);position:absolute;left:50%;top:50%;margin:-7px 0 0 -10px}div.grPbyP-redeemInfo{color:#24cc64;font-weight:700;margin:15px 0;animation:grPbyPTick .55s}div.grPbyP-couponBox{animation:grPbyPTick .7s;padding:5px 5px 5px 15px;border-radius:4px;border:2px solid #dbdbdb;background:#fff;margin:0 auto;display:flex;align-items:center}#grPbyP_apply{margin-left:auto;min-width:91px;height:39px;border-radius:4px;background:"+e.rp_text_color+";color:#fff;line-height:38px;font-weight:500;cursor:pointer;user-select:none;transition:.35s;position:relative;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;padding:0 8px;max-width:160px}a#grPbyP_apply{display:inline-block;}#grPbyP_apply:hover{opacity:.93;transform:translateY(-1px);box-shadow:0 2px 0 rgba(0,0,0,.3)}div#grPbyP_apply.active{background:#24cc64;animation:grCopied .8s}@keyframes grCopied{0%,100%{box-shadow:0 0 0 0 rgba(36,204,100,0);transform:scale(1)}50%{box-shadow:0 0 30px 10px rgba(36,204,100,.35);transform:scale(.92)}}div#grPbyP_coupon{color:#555;font-weight:500;letter-spacing:.5px;margin-right:10px}input#grPbyP_couponInput{padding:0;width:40px;opacity:0;position:absolute; height: 1px;} span#grPbyP_copied {position: absolute;background: #000;padding: 5px 8px;line-height: 1.2;font-size: 12px;border-radius: 4px;right: 100%;top: 8px;margin-right: 1px;} span#grPbyP_copied:after {content: '';position: absolute;width: 6px;height: 6px;background: #000;right: -3px;top: 50%;margin-top: -3px;transform: rotate(45deg);}div#grPbyP_icon figure{margin:0;position:absolute;right:0;top:100%;margin-top:-50px;background:"+e.rp_text_color+";border-radius:50%;padding:10px;width:50px;height:50px;text-align:center;box-shadow:-3px 12px 24px rgba(0,0,0,.5);box-sizing: border-box;animation:showpaybypoints .4s;transform-origin:bottom right; transition:.5s;}div#grPbyP_icon img{width:30px;height:30px;cursor:pointer;max-width:none;min-width:0} div#grPbyP_icon.active figure {margin-top:-20px;}div#grPbyP_tip.hide{display:none;}div#grPbyP_tip{position:absolute;background:#fff;right:100%;top:50%;transform:translate(-20px,-50%);box-shadow:-3px 6px 18px rgba(0,0,0,.1);border-radius:8px;padding:15px 10px;width:160px;margin-right:10px;font-size:12px;opacity:0;transition:.4s;pointer-events:none;border: 1px solid #d5d8da;}div#grPbyP_tip:after{content:'';background:#fff;width:10px;height:10px;position:absolute;right:-5px;top:48%;transform:rotate(45deg);margin-top:-5px;border-right: 1px solid #ccc; border-top: 1px solid #ccc;}figure:hover #grPbyP_tip, #grPbyP_tip.showOnce{opacity:1;transform:translate(0,-50%) !important;} div#gr_paybypoints_widget.grPbyP-center {bottom: 15px;} div.grPbyP-center div#grPbyP_icon.active figure {margin-top: -45px;} .grPbyP-center div.grPbyP-box {bottom: 60px;} div#grPbyP_icon.active figure div#grPbyP_tip{display:none}[dir=RTL] #grPbyP_apply{margin:0 auto 0 0}[dir=RTL] div.grPbyP-couponBox{padding-left:5px}[dir=RTL] div.grPbyP-redeemLink i{transform:rotate(180deg);margin-right:8px}@media only screen and (max-width: 450px){div#grPbyP_tip {margin-right: 3px;width: 132px; font-size: 11px; padding: 12px 5px;}div#gr_paybypoints_widget{right:15px;left:15px;bottom: 120px;}div.grPbyP-box{width:100%;bottom:0;right:0}div.grPbyP-paddingBox{padding:25px 5px}div.grPbyP-title{font-size:20px;letter-spacing:.5px}div.grPbyP-description{letter-spacing:.5px;font-size:95%}div.grPbyP-redeemLink{letter-spacing:1px}div#grPbyP_icon.active figure{margin-top:10px;right:-8px;top:100%;animation:showpaybypoints .4s}div#grPbyP_icon figure{margin-top:-10px;transition:.4s}#grPbyP_error{font-size: 11px;margin-bottom: 0px;}}div.grPbyP-box:after{content:'';position:absolute;border:6px solid #fff}.grPbyP-right div.grPbyP-box:after{right:0;bottom:-11px;border-left-color:transparent;border-bottom-color:transparent}.grPbyP-right div.grPbyP-box{border-radius:10px 10px 0}.grPbyP-center div.grPbyP-box{right:0;transform-origin:bottom center}.grPbyP-center div.grPbyP-box:after{left:50%;bottom:-16px;border-top-width:10px;border-bottom-color:transparent;border-right-color:transparent;border-left-color:transparent;margin-left:-6px}.grPbyP-center div#grPbyP_icon figure{right:50%;margin-right:-25px; margin-top: -50px;}.grPbyP-left div.grPbyP-box{right:-5px;transform-origin:bottom left;border-radius:10px 10px 10px 0}.grPbyP-left div.grPbyP-box:after{left:0;bottom:-12px;border-bottom-color:transparent;border-right-color:transparent}.grPbyP-left div#grPbyP_icon figure{right:auto;left:0}.grPbyP-left div#grPbyP_tip{right:auto;left:100%;margin:0 0 0 12px;transform:translate(20px,-50%)}.grPbyP-left div#grPbyP_tip:after{right:auto;left:-5px;border: 1px solid #ccc;border-top-width: 0;border-right-width: 0;}@media only screen and (min-width:451px){.grPbyP-right div.grPbyP-box:after{right:0;bottom:-11px;border-left-color:transparent;border-bottom-color:transparent}.grPbyP-right div.grPbyP-box{border-radius:10px 10px 0}div#gr_paybypoints_widget.grPbyP-center{right:50%;transform:translateX(50%)}.grPbyP-center div.grPbyP-box{right:0;transform-origin:bottom center}div#gr_paybypoints_widget.grPbyP-left{right:auto;left:40px}.grPbyP-left div.grPbyP-box{right:-25px}} div.grPbyP_cancel_wrap{text-align:right;animation:grPbyPTick .7s;} div#grPbyP_cancel{font-size:12px;display:inline-block;cursor:pointer;padding: 0 10px;color:"+e.rp_text_color+"}div#grPbyP_cancel:hover{text-decoration:underline;} div#grPbyP_cancel_confirm{background:#fff;position:absolute;left:0;top:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center; border-radius: 8px; padding: 10px 20px;}a#grPbyP_coupon_cancel{background:#ccc;color:#000;padding:8px 14px;border-radius:4px;margin-right:8px;border:1px solid #bbb;display:inline-block;vertical-align:top;cursor:pointer;}a#grPbyP_coupon_agree{background:"+e.rp_text_color+";color:#fff;padding:8px 14px;border-radius:4px;margin-right:8px;border:1px solid "+e.rp_text_color+";display:inline-block;vertical-align:top;cursor:pointer;} #grPbyP_error_restore{width:100%;color:red;font-size:12px;margin:4px 0;} body.ec-frame .am-GRwidgetbar-box{width:99%}body.ec-frame div#grPbyP_icon figure:after{animation:cubic-bezier(.39,.58,.57,1) widgetRipple 40 1.2s;content:'';position:absolute;width:100%;height:100%;background:inherit;left:0;top:0;border-radius:inherit;z-index:-1;opacity:.5;transform:scale(1)}@media(max-width:450px){body.ec-frame div#gr_paybypoints_widget.grPbyP-center{top:103px;bottom:auto!important;right:10px;transform:scale(.8)}body.ec-frame .grPbyP-center div.grPbyP-box{animation:showpaybypointsMobile .4s;position:absolute;right:0!important;bottom:0!important;transform:translate(0,110%)}body.ec-frame .grPbyP-center div.grPbyP-box:after{left:auto!important;right:auto;bottom:auto!important;top:0;margin:-17px auto 0;transform:rotate(180deg)}}@media(min-width:451px){body.ec-frame div.am-widgetWrapper{align-items:flex-start!important;padding-top:150px!important}body.ec-frame div#gr_paybypoints_widget.grPbyP-center{top:163px!important;bottom:auto!important;right:15%!important}body.ec-frame .grPbyP-center div.grPbyP-box{animation:showpaybypointsDesktop .4s;position:absolute;right:0!important;bottom:0!important;transform:translate(-15%,50%)}body.ec-frame .grPbyP-center div.grPbyP-box:after{left:auto!important;right:0!important;bottom:55%!important;margin-left:0!important;margin-right:-12px;transform:rotate(-90deg)}}@keyframes showpaybypointsDesktop{0%{opacity:0;transform:translate(-15%,50%) scale(.5)}100%{opacity:1;transform:translate(-15%,50%) scale(1)}}@keyframes showpaybypointsMobile{0%{opacity:0;transform:translate(0,110%) scale(.5)}100%{opacity:1;transform:translate(0,110%) scale(1)}}@keyframes widgetRipple{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1.5)}} </style>",s.innerHTML+="",k.body.appendChild(s),i/r<1&&document.getElementById("grPbyP_tip").classList.add("hide"),GRWidgetObj.showPayByPoints()}}catch(e){}},redeemPoints:function(){try{var e="?request_points="+GRWidgetObj.elements.grpointsrange.value+"&callback=GRWidgetObj.processClaim",t=this.getQueryString();0<t.length&&(e+="&"+t);t=k.getElementById("gr-claim-point");null!=t&&t.remove(),k.getElementById("grPbyP_loader").style.display="block",k.getElementById("grPbyP_error").style.display="none",this.loadScript(this.config.callback_url+"/widgets/redeemPoints"+e,"gr-claim-point",null)}catch(e){}},showPayByPoints:function(){try{var e=k.getElementById("grPbyP_tip"),t=C.session("get","grPbyP_tip_shown");void 0!==t&&null!=t?e.classList.remove("showOnce"):setTimeout(function(){e.classList.remove("showOnce"),C.session("set","grPbyP_tip_shown",(new Date).getTime())},5e3),null!=localStorage.getItem("gr_paybypoints_coupon")&&""!=localStorage.getItem("gr_paybypoints_coupon")&&(void 0!==(t=JSON.parse(localStorage.getItem("gr_paybypoints_coupon"))).points&&(k.getElementById("grPbyP_couponPoints").textContent=t.points),void 0!==t.worth&&(k.getElementById("grPbyP_couponWorth").textContent=gr_config.pay_points.currency+""+t.worth),GRWidgetObj.appendRedeemCoupon(t)),setTimeout(function(){GRWidgetObj.elements.grpointsrange=document.getElementById("grpointsrange"),GRWidgetObj.elements.progress=document.getElementById("grPbyP_rangeProgress"),GRWidgetObj.elements.progressPoints=document.getElementById("grPbyP_progressPoints"),GRWidgetObj.elements.progressWorth=document.getElementById("grPbyP_progressWorth"),GRWidgetObj.elements.footer=document.getElementById("grPbyP_foot"),GRWidgetObj.elements.progressTip=document.querySelector(".grPbyP-progressTip"),GRWidgetObj.elements.progressText=document.querySelector(".grPbyP-progressText"),GRWidgetObj.elements.pByPError=document.getElementById("grPbyP_error"),GRWidgetObj.elements.pByPIcon=document.getElementById("grPbyP_icon"),GRWidgetObj.pointsRedeemSlide(document.getElementById("grpointsrange")),void 0!==AMGRConfig.user.order_id&&""!=AMGRConfig.user.order_id?k.getElementById("gr_paybypoints_widget").style.display="none":k.getElementById("gr_paybypoints_widget").style.display="block"},500)}catch(e){}},resetPayByPointsPopup:function(){try{var e=k.getElementById("gr_paybypoints_widget");null!=e&&e.remove(),null!=(e=k.getElementById("gr_paybypoints_widget"))&&e.remove(),this.loadPointsRedeemPopup(this.config.siteConfig.pay_points)}catch(e){}},hidePayByPoints:function(){try{k.getElementById("gr_paybypoints_box").style.display="none",k.getElementById("grPbyP_icon").setAttribute("class","grPbyP-icon")}catch(e){}},handlePayByPointsIcon:function(){try{k.getElementById("grPbyP_icon").setAttribute("class","grPbyP-icon active"),k.getElementById("gr_paybypoints_box").style.display="block"}catch(e){}},pointsRedeemSlide:function(e){try{var t=e.value,o=GRWidgetObj.elements,i=(t-parseInt(o.grpointsrange.getAttribute("min")))/(parseInt(o.grpointsrange.getAttribute("max"))-parseInt(o.grpointsrange.getAttribute("min"))),i=i<.5?210*i+(16-21*i):210*i-16*i;o.pByPError.style.display="none",o.progress.style.transform="translateX("+i+"px)",0<(o.progressPoints.textContent=t)?(o.footer.setAttribute("class",""),o.progressTip.style.display="none",o.progressText.style.display="block",o.progressWorth.textContent="("+gr_config.pay_points.currency+(t/parseFloat(o.grpointsrange.getAttribute("data-ratio"))).toFixed(2)+")"):(o.footer.setAttribute("class","disabled"),o.progressTip.style.display="block",o.progressText.style.display="none",o.progressWorth.textContent="")}catch(e){}},processClaim:function(e){k.getElementById("grPbyP_loader").style.display="none";try{if(void 0===e)throw{msg:gr_config.locale.something_wrong};if(1==e.error)k.getElementById("grPbyP_error").textContent=e.msg,k.getElementById("grPbyP_error").style.display="block";else{if(0!=e.error||""==e.code)throw{msg:gr_config.locale.something_wrong};var t,o=(t=void 0!==e.points&&""!=e.points&&void 0!==e.worth&&typeof e.worth?e.points:k.getElementById("grpointsrange").value)/parseFloat(GRWidgetObj.elements.grpointsrange.getAttribute("data-ratio")),o=gr_config.pay_points.currency_format.replace("99",o);k.getElementById("grPbyP_couponPoints").textContent=t,k.getElementById("grPbyP_couponWorth").textContent=o,GRWidgetObj.appendRedeemCoupon(e),e.ts=(new Date).getTime(),localStorage.setItem("gr_paybypoints_coupon",JSON.stringify(e))}}catch(e){k.getElementById("grPbyP_error").textContent=e.msg,k.getElementById("grPbyP_error").style.display="block"}try{if(void 0===e.total_points||isNaN(e.total_points)||void 0===e.available_points||isNaN(e.available_points))throw{msg:"Invalid data"};GRWidgetObj.userPoints=e.total_points,localStorage.setItem("gr_user_points",JSON.stringify({label:e.points_label,value:e.total_points,available_points:e.available_points,ts:(new Date).getTime()}));var i=GRWidgetObj.changeRedeemPopupDesc(gr_config.locale.redeem_popup_desc,e.available_points,GRWidgetObj.config.siteConfig.pay_points.redeem_point_per_dollar,gr_config.pay_points.currency_format);k.getElementById("grPbyP_tip").innerHTML=i,parseInt(e.available_points)/parseInt(GRWidgetObj.config.siteConfig.pay_points.redeem_point_per_dollar)<1&&document.getElementById("grPbyP_tip").classList.add("hide")}catch(e){}},appendRedeemCoupon:function(e){try{var t=k.getElementById("grPbyP_result"),o="";void 0===gr_config.locale.btn_delete&&(gr_config.locale.btn_delete="Remove"),void 0===gr_config.locale.redeem_confirm&&(gr_config.locale.redeem_confirm="Okay, I Agree"),void 0===gr_config.locale.cancel&&(gr_config.locale.cancel="Cancel"),void 0===gr_config.locale.redeem_delete_confirm&&(gr_config.locale.redeem_delete_confirm="Remove this coupon <br/>and get back your points ?"),o=void 0!==e.apply_url&&""!=e.apply_url&&"gr_shopify"==e.plugin_type?'<a id="grPbyP_apply" href="'+e.apply_url+'">'+gr_config.locale.redeem_btn_text+"</a>":"gr_ecwid"==e.plugin_type?'<a id="grPbyP_apply" onclick="GRWidgetObj.ecwidApplyCoupon(\''+e.code+"');return false;\">"+gr_config.locale.redeem_btn_text+"</a>":"<div id=\"grPbyP_apply\" onclick=\"GRWidgetObj.cpyToClipboard('grPbyP_couponInput', 'grPbyP_apply');return false;\">"+gr_config.locale.label_copy+"</div>",t.innerHTML='<div class="grPbyP-couponBox">                    <div id="grPbyP_coupon">'+e.code+'</div>                    <input type="text" id="grPbyP_couponInput" value="'+e.code+'" />'+o+'</div>                    <div class="grPbyP_cancel_wrap"><div id="grPbyP_cancel" onclick="GRWidgetObj.cancelRedeemedCouponConfirm();">'+gr_config.locale.btn_delete+'</div></div>                    <div id="grPbyP_cancel_confirm" style="display:none;"><p>'+gr_config.locale.redeem_delete_confirm+'</p>                    <div><a onclick="GRWidgetObj.cancelRedeemedCouponClose();return false;" id="grPbyP_coupon_cancel">'+gr_config.locale.cancel+"</a>                    <a onclick=\"GRWidgetObj.cancelRedeemedCoupon('"+e.code+'\');return false;" id="grPbyP_coupon_agree">'+gr_config.locale.redeem_confirm+'</a>                    <div id="grPbyP_error_restore"></div></div></div></div></div>',k.getElementById("grPbyP_info").style.display="none",k.getElementById("grPbyP_couponBlock").style.display="block"}catch(e){}},checkRedeemCoupon:function(e=0){try{var t,o;null==localStorage.getItem("gr_paybypoints_coupon")||""==localStorage.getItem("gr_paybypoints_coupon")||void 0!==(o=JSON.parse(localStorage.getItem("gr_paybypoints_coupon"))).code&&typeof o.code&&(t="?coupon="+o.code+"&callback=GRWidgetObj.checkRedeemCouponHandle",0<(o=this.getQueryString()).length&&(t+="&"+o),1==e&&(t+="&couponExists=1"),this.loadScript(this.config.callback_url+"/widgets/checkRedeemCoupon"+t,"gr-check-redeem-coupon"))}catch(e){}},checkRedeemCouponHandle:function(e){try{void 0!==e.coupon_exists&&1==e.coupon_exists?void 0!==e.coupon_exists&&0==e.coupon_exists&&localStorage.removeItem("gr_paybypoints_coupon"):void 0!==e.is_used&&1==e.is_used&&null!=localStorage.getItem("gr_paybypoints_coupon")&&""!=localStorage.getItem("gr_paybypoints_coupon")&&localStorage.removeItem("gr_paybypoints_coupon")}catch(e){}},checkWidgetVisibleForUser:function(){var e=!0;try{void 0!==gr_config.settings.is_enabled_user_role_restriction&&1==gr_config.settings.is_enabled_user_role_restriction&&(void 0!==gr_config.settings.is_disable_widget_non_loggedin_user&&1==gr_config.settings.is_disable_widget_non_loggedin_user&&(e=!1),null!=localStorage.getItem("is_user_role_restricted")&&(e="1"!=localStorage.getItem("is_user_role_restricted")))}catch(e){}return e},loadBonusPopup:function(e){try{var i,r,a,n,s,t,o,l,d=this,g=d.checkWidgetVisibleForUser(),p="";1==g&&(void 0!==(i=e)&&void 0!==i.data&&0<i.data.length&&(bonusList=[],l=C.local("get","bonus_expiry"),r=(new Date).getTime(),(""==l||null==l||""!=l&&l<r)&&(""!=l&&0<l&&C.local("set","bonus_expiry",""),n=a="",s=0,i.data.forEach(function(e,t){var o;e.date_start>Math.floor(r/1e3)||null!=e.date_end&&e.date_end<Math.floor(r/1e3)||(bonusList.push(e.id_bonus),o="",0==s&&(o="active",++s),a+='<div class="am-bonus-box '+o+'" id="am_bonus_'+e.id_bonus+'" style="background: '+e.popup.background_color+'">                                        <div class="am-flex am-flex-center">                                         <div class="pm-widget-icon" style="background: '+e.popup.icon_background_color+'">                                             <svg viewBox="0 0 16 16" class="pm-widgetbar-logo" style="color: '+e.popup.icon_color+'" width="18" height="18">                                                 <use id="bonus_icon_svg_path" xlink:href="#icon_'+e.popup.icon+'"></use>                                             </svg>                                         </div>                                         <div class="pm-widgetbar-content" style="font-family: '+e.popup.font+", sans-serif; color: "+e.popup.font_color+'">                                             <div class="pm-widgetbar-title-group">                                                 <div class="pm-widgetbar-maintitle"><span>'+e.title+'</span>                                                 <div class="pm-widgetbar-subtitle"><svg viewBox="0 0 32 29"><path d="M29.57,3A1.43,1.43,0,0,1,31,4.43V26.57A1.43,1.43,0,0,1,29.57,28H2.43A1.43,1.43,0,0,1,1,26.57V4.43A1.43,1.43,0,0,1,2.43,3H29.57m0-1H2.43A2.43,2.43,0,0,0,0,4.43V26.57A2.43,2.43,0,0,0,2.43,29H29.57A2.43,2.43,0,0,0,32,26.57V4.43A2.43,2.43,0,0,0,29.57,2Z"/><path d="M8.5,6A.5.5,0,0,1,8,5.5V.5a.5.5,0,0,1,1,0v5A.5.5,0,0,1,8.5,6Z"/><path d="M24.5,6a.5.5,0,0,1-.5-.5V.5a.5.5,0,0,1,1,0v5A.5.5,0,0,1,24.5,6Z"/><path d="M10.43,12.69H4.93a.5.5,0,1,1,0-1h5.5a.5.5,0,0,1,0,1Z"/><path d="M18.68,12.69h-5.5a.5.5,0,0,1,0-1h5.5a.5.5,0,0,1,0,1Z"/><path d="M26.93,12.69h-5.5a.5.5,0,0,1,0-1h5.5a.5.5,0,0,1,0,1Z"/><path d="M10.5,18H5a.5.5,0,0,1,0-1h5.5a.5.5,0,0,1,0,1Z"/><path d="M18.75,18h-5.5a.5.5,0,0,1,0-1h5.5a.5.5,0,0,1,0,1Z"/><path d="M27,18H21.5a.5.5,0,0,1,0-1H27a.5.5,0,0,1,0,1Z"/><path d="M10.57,23.31H5.07a.5.5,0,0,1,0-1h5.5a.5.5,0,0,1,0,1Z"/><path d="M18.82,23.31h-5.5a.5.5,0,0,1,0-1h5.5a.5.5,0,0,1,0,1Z"/></svg><span>'+e.description+'</span></div>                                             </div>                                             </div>                                         </div>                                         <a role="button" class="pm-widgetbar-close" onclick="GRWidgetObj.hideBonus('+i.idle+');return false;"><span>&times;</span></a>                                        </div>                                     </div>',a+='<link rel="stylesheet" href="'+d.config.aws_cdn_url+"/assets/fonts/custom/"+e.popup.font+'/fontface.css" />',n+='<a class="bonus-navigation-button" id="bonus_btn_'+e.id_bonus+'" onclick="GRWidgetObj.showBonus('+e.id_bonus+');" data-id="'+e.id_bonus+'"></a>')}),""!=a&&(p+='<div id="gr-am-bonusbar" class="am-bonusbar am-bonusbar-gratisfaction" style="display:none1;"> '+a+'                                    <div class="bonus-navigation">'+n+"</div>                                </div>"),p+='<svg style="display:none; height:0;">                            <symbol id="icon_gift" viewBox="0 0 512 512"><path fill="currentColor" d="M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"/></symbol>                            <symbol viewBox="0 0 512 512" id="icon_gift-line"><path fill="currentColor"  d="M464 144h-39.3c9.5-13.4 15.3-29.9 15.3-48 0-44.1-33.4-80-74.5-80-42.3 0-66.8 25.4-109.5 95.8C213.3 41.4 188.8 16 146.5 16 105.4 16 72 51.9 72 96c0 18.1 5.8 34.6 15.3 48H48c-26.5 0-48 21.5-48 48v96c0 8.8 7.2 16 16 16h16v144c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V304h16c8.8 0 16-7.2 16-16v-96c0-26.5-21.5-48-48-48zm-187.8-3.6c49.5-83.3 66-92.4 89.3-92.4 23.4 0 42.5 21.5 42.5 48s-19.1 48-42.5 48H274l2.2-3.6zM146.5 48c23.4 0 39.8 9.1 89.3 92.4l2.1 3.6h-91.5c-23.4 0-42.5-21.5-42.5-48 .1-26.5 19.2-48 42.6-48zM192 464H80c-8.8 0-16-7.2-16-16V304h128v160zm0-192H32v-80c0-8.8 7.2-16 16-16h144v96zm96 192h-64V176h64v288zm160-16c0 8.8-7.2 16-16 16H320V304h128v144zm32-176H320v-96h144c8.8 0 16 7.2 16 16v80z"/></symbol>                            <symbol viewBox="0 0 640 512" id="icon_money-bill"><defs><style>.fa-secondary{opacity:.4}</style></defs><path d="M101.22 112A112.5 112.5 0 0 1 48 165.22v181.56A112.5 112.5 0 0 1 101.22 400h437.56A112.5 112.5 0 0 1 592 346.78V165.22A112.5 112.5 0 0 1 538.78 112zM320 352c-44.19 0-80-43-80-96s35.82-96 80-96 80 43 80 96-35.83 96-80 96z" class="fa-secondary" fill="currentColor"/><path d="M616 64H24A24 24 0 0 0 0 88v336a24 24 0 0 0 24 24h592a24 24 0 0 0 24-24V88a24 24 0 0 0-24-24zm-24 282.78A112.5 112.5 0 0 0 538.78 400H101.22A112.5 112.5 0 0 0 48 346.78V165.22A112.5 112.5 0 0 0 101.22 112h437.56A112.5 112.5 0 0 0 592 165.22z" class="fa-primary" fill="currentColor"/></symbol>                            <symbol viewBox="0 0 384 512" id="icon_percent"><path fill="currentColor" d="M96 224c53 0 96-43 96-96s-43-96-96-96S0 75 0 128s43 96 96 96zm0-156c33.1 0 60 26.9 60 60s-26.9 60-60 60-60-26.9-60-60 26.9-60 60-60zm192 220c-53 0-96 43-96 96s43 96 96 96 96-43 96-96-43-96-96-96zm0 156c-33.1 0-60-26.9-60-60s26.9-60 60-60 60 26.9 60 60-26.9 60-60 60zm59.8-412H378c5 0 7.8 5.7 4.8 9.6L41 477.6c-1.1 1.5-2.9 2.4-4.8 2.4H6c-5 0-7.8-5.7-4.8-9.6L343 34.4c1.1-1.5 2.9-2.4 4.8-2.4z"/></symbol>                            <symbol viewBox="0 0 512 512" id="icon_sack-dollar"><path d="M192 96h128l47.4-71.12A16 16 0 0 0 354.09 0H157.94a16 16 0 0 0-13.31 24.88zm128 32H192C-10.38 243.4.09 396.64.09 416c0 53 49.11 96 109.68 96h292.48c60.58 0 109.68-43 109.68-96 0-19 9.35-173.24-191.93-288zm-46.58 278v17.34a8.69 8.69 0 0 1-8.7 8.62h-17.41a8.69 8.69 0 0 1-8.71-8.62v-17.51a63.19 63.19 0 0 1-34.16-12.17 8.55 8.55 0 0 1-.66-13l12.84-12.06a8.92 8.92 0 0 1 11-.76 26.72 26.72 0 0 0 13.93 4h30.58c7.07 0 12.84-6.35 12.84-14.22 0-6.46-3.92-12.06-9.58-13.67l-49-14.54c-20.24-6-34.39-25.2-34.39-46.74 0-26.38 20.68-47.82 46.46-48.57v-17.48a8.69 8.69 0 0 1 8.74-8.62h17.41a8.68 8.68 0 0 1 8.7 8.62v17.55a63.12 63.12 0 0 1 34.17 12.17 8.55 8.55 0 0 1 .65 13l-12.73 12.2a8.92 8.92 0 0 1-11 .75 26.78 26.78 0 0 0-13.93-4h-30.56c-7.07 0-12.84 6.35-12.84 14.21 0 6.46 3.92 12.06 9.57 13.68l49 14.54c20.24 6 34.38 25.2 34.38 46.74-.14 26.4-20.92 47.94-46.6 48.54z" fill="currentColor" /></symbol>                            <symbol viewBox="0 0 512 512" id="icon_sack-dollar-line"><path d="M334.89 121.63l43.72-71.89C392.77 28.47 377.53 0 352 0H160.15c-25.56 0-40.8 28.5-26.61 49.76l43.57 71.88C-9.27 240.59.08 392.36.08 412c0 55.23 49.11 100 109.68 100h292.5c60.58 0 109.68-44.77 109.68-100 0-19.28 8.28-172-177.05-290.37zM160.15 32H352l-49.13 80h-93.73zM480 412c0 37.49-34.85 68-77.69 68H109.76c-42.84 0-77.69-30.51-77.69-68v-3.36c-.93-59.86 20-173 168.91-264.64h110.1C459.64 235.46 480.76 348.94 480 409zM285.61 310.74l-49-14.54c-5.66-1.62-9.57-7.22-9.57-13.68 0-7.86 5.76-14.21 12.84-14.21h30.57a26.78 26.78 0 0 1 13.93 4 8.92 8.92 0 0 0 11-.75l12.73-12.17a8.54 8.54 0 0 0-.65-13 63.12 63.12 0 0 0-34.17-12.17v-17.6a8.68 8.68 0 0 0-8.7-8.62H247.2a8.69 8.69 0 0 0-8.71 8.62v17.44c-25.79.75-46.46 22.19-46.46 48.57 0 21.54 14.14 40.71 34.38 46.74l49 14.54c5.66 1.61 9.58 7.21 9.58 13.67 0 7.87-5.77 14.22-12.84 14.22h-30.61a26.72 26.72 0 0 1-13.93-4 8.92 8.92 0 0 0-11 .76l-12.84 12.06a8.55 8.55 0 0 0 .65 13 63.2 63.2 0 0 0 34.17 12.17v17.55a8.69 8.69 0 0 0 8.71 8.62h17.41a8.69 8.69 0 0 0 8.7-8.62V406c25.68-.64 46.46-22.18 46.57-48.56.02-21.5-14.13-40.67-34.37-46.7z" fill="currentColor" /></symbol>                            <symbol viewBox="0 0 512 512" id="icon_2x"><path d="M258.941406,421.748047 L258.941406,363.349609 L130.240234,363.349609 L172.466797,314.609375 C194.927734,292.148438 211.211914,274.217122 221.319336,260.81543 C231.426758,247.413737 238.876302,234.611003 243.667969,222.407227 C248.459635,210.203451 250.855469,197.66276 250.855469,184.785156 C250.855469,154.238281 241.30957,130.804036 222.217773,114.482422 C203.125977,98.1608073 175.910807,90 140.572266,90 C118.560547,90 98.6451823,94.7916667 80.8261719,104.375 C63.0071615,113.958333 49.0813802,127.247721 39.0488281,144.243164 C29.016276,161.238607 24,179.76888 24,199.833984 L24,199.833984 L99.9179688,199.833984 C99.9179688,185.159505 103.511719,172.918294 110.699219,163.110352 C117.886719,153.302409 127.245443,148.398438 138.775391,148.398438 C150.455078,148.398438 159.364583,152.067057 165.503906,159.404297 C171.643229,166.741536 174.712891,177.447917 174.712891,191.523438 C174.712891,208.893229 161.760417,232.327474 135.855469,261.826172 L135.855469,261.826172 L30.7382812,372.333984 L30.7382812,421.748047 L258.941406,421.748047 Z M342.557187,421.748047 L380.066953,349.873047 L418.250547,421.748047 L497.313047,421.748047 L430.154844,297.089844 L494.168516,178.720703 L415.555234,178.720703 L380.291562,245.654297 L346.150937,178.720703 L266.639219,178.720703 L330.428281,297.089844 L263.045469,421.748047 L342.557187,421.748047 Z" id="icon_2x" fill="currentColor"></path></symbol>                            <symbol id="icon_5-percent" viewBox="0 0 512 512"><path d="M217.42513,99.96875 L217.42513,158.816406 L87.8255208,158.816406 L80.4134115,223.728516 L80.9403436,223.425375 C86.2622536,220.405652 93.1618049,217.736517 101.638997,215.417969 C110.398763,213.022135 118.971354,211.824219 127.356771,211.824219 C159.85026,211.824219 184.819336,221.444987 202.263997,240.686523 C219.708659,259.92806 228.43099,286.91862 228.43099,321.658203 C228.43099,342.621745 223.751628,361.601237 214.392904,378.59668 C205.03418,395.592122 191.894531,408.656901 174.973958,417.791016 C158.053385,426.92513 138.063151,431.492188 115.003255,431.492188 C94.4889323,431.492188 75.2473958,427.262044 57.2786458,418.801758 C39.3098958,410.341471 25.234375,398.736654 15.0520833,383.987305 C4.86979167,369.237956 -0.146484375,352.579427 0.00325520833,334.011719 L0.00325520833,334.011719 L75.921224,334.011719 L75.9659764,334.674686 C76.8123953,346.342203 80.6158372,355.629678 87.3763021,362.537109 C94.2643229,369.57487 103.323568,373.09375 114.554036,373.09375 C140.009766,373.09375 152.73763,354.226562 152.73763,316.492188 C152.73763,281.602865 137.164714,264.158203 106.01888,264.158203 C88.3496094,264.158203 75.172526,269.848307 66.4876302,281.228516 L66.4876302,281.228516 L6.29231771,267.078125 L26.2825521,99.96875 L217.42513,99.96875 Z M461.422188,229 C476.880842,229 489.175141,233.227474 498.305085,241.682422 C507.435028,250.137371 512,261.932546 512,277.067947 L512,277.067947 L512,288.028065 L511.996695,288.691437 C511.857864,302.578891 507.345869,313.735414 498.460709,322.161004 C489.434515,330.720335 477.19209,335 461.733436,335 C446.48228,335 434.213919,330.74643 424.928351,322.239291 C415.642784,313.732152 411,302.067454 411,287.245199 L411,287.245199 L411,275.971935 L411.003362,275.308563 C411.144587,261.421109 415.734375,250.264586 424.772727,241.838996 C433.954545,233.279665 446.171032,229 461.422188,229 Z M449.400922,124 L474,136.398521 L362.599078,315 L338,302.601479 L449.400922,124 Z M461,258 C455.962963,258 451.92284,259.591587 448.87963,262.77476 C445.83642,265.957934 444.209877,270.263046 444,275.690096 L444,275.690096 L444,288.527157 L444.004919,288.985263 C444.106578,293.700858 445.783951,297.853268 449.037037,301.442492 C452.395062,305.147497 456.487654,307 461.314815,307 C471.493827,307 477.003086,302.199148 477.842593,292.597444 L477.842593,292.597444 L478,276.472843 L477.995542,275.957407 C477.903414,270.663618 476.383295,266.373769 473.435185,263.087859 C470.391975,259.695953 466.246914,258 461,258 Z M352.5,100 C368.08642,100 380.399691,104.305761 389.439815,112.917282 C398.479938,121.528804 403,133.193501 403,147.911374 L403,147.911374 L403,159.184638 L402.996689,159.843155 C402.857645,173.629464 398.338686,184.735414 389.439815,193.161004 C380.399691,201.720335 368.190329,206 352.811728,206 C337.537037,206 325.249743,201.74643 315.949846,193.239291 C306.649949,184.732152 302,173.067454 302,158.245199 L302,158.245199 L302,147.128508 L302.003349,146.469953 C302.143992,132.682039 306.714892,121.523911 315.716049,112.995569 C324.860082,104.331856 337.121399,100 352.5,100 Z M352.5,128 C347.462617,128 343.453271,129.695953 340.471963,133.087859 C337.490654,136.479766 336,141.097977 336,146.942492 L336,146.942492 L336,158.683706 L336.004367,159.189511 C336.094622,164.385355 337.58382,168.626231 340.471963,171.912141 C343.453271,175.304047 347.565421,177 352.808411,177 C363.602804,177 369,170.007455 369,156.022364 L369,156.022364 L369,146.629393 L368.995507,146.107208 C368.905647,140.915498 367.467893,136.627899 364.682243,133.244409 C361.803738,129.748136 357.742991,128 352.5,128 Z" fill="currentColor"></path></symbol>                        </svg>'),0<bonusList.length&&(GRWidgetObj.showBonus(bonusList[0]),t=bonusIndex=1,o=setInterval(function(){void 0!==bonusList[bonusIndex]?(GRWidgetObj.showBonus(bonusList[bonusIndex]),++bonusIndex):(bonusIndex=0,t>=i.rotation&&(clearInterval(o),GRWidgetObj.hideBonus(i.idle)),++t)},i.slide_timing))),(l=k.createElement("div")).innerHTML=p,k.body.appendChild(l))}catch(e){}},loadWidget:function(e){try{var t=document.getElementById("gr-am-widgetbar_"+e.id_widget);if(void 0!==t&&null!=t)return!1;var o=this,i=!0,r=e.settings,a=o.config.callback_url+r.app_url;if(void 0!==gr_config.settings.is_enabled_user_role_restriction&&1==gr_config.settings.is_enabled_user_role_restriction&&void 0!==gr_config.settings.is_disable_widget_non_loggedin_user&&1==gr_config.settings.is_disable_widget_non_loggedin_user&&0<=a.indexOf("/referral/")&&void 0!==AMGRConfig.user.email&&""==AMGRConfig.user.email&&(i=!1),1==i){var n="",s="",l=r.widget_text_main,d=r.widget_sub_text,g=r.widget_position,p=mobileViewP=void 0!==r.w_mobile_view?r.w_mobile_view:"compact",c=deskViewP=void 0!==r.w_desktop_view?r.w_desktop_view:"full",m=mobShowHome=!1,f=window.location.href,u=o.config.site.domain,b=o.config.siteConfig.shop_url,_=void 0!==r.mobile_x_position?r.mobile_x_position:0,h=void 0!==r.mobile_y_position?r.mobile_y_position:0,y=void 0!==r.desktop_x_position?r.desktop_x_position:0,t=void 0!==r.desktop_y_position?r.desktop_y_position:0;if(f=(f=(f=f.replace(window.location.search,"")).replace("http://","")).replace("https://",""),u=(u=u.replace("http://","")).replace("https://",""),b=(b=b.replace("http://","")).replace("https://",""),1==r.desktop_show_home_page_only&&(f==u+"/"||f==u||f==b+"/"||f==b?m=!0:c="hidden"),void 0!==r.desktop_show_specific_page_only&&""!=r.desktop_show_specific_page_only){var v=r.desktop_show_specific_page_only.split(","),w=0;for(index=0;index<v.length;index++)0<=f.indexOf(v[index])&&(w=1);1==w?c=deskViewP:0==m&&(c="hidden")}if(1==r.mobile_show_home_page_only&&(f==u+"/"||f==u||f==b+"/"||f==b?mobShowHome=!0:p="hidden"),void 0!==r.mobile_show_specific_page_only&&""!=r.mobile_show_specific_page_only){var x=r.mobile_show_specific_page_only.split(","),w=0;for(index=0;index<x.length;index++)0<=f.indexOf(x[index])&&(w=1);1==w?p=mobileViewP:0==mobShowHome&&(p="hidden")}i=void 0!==r.mobile_position?r.mobile_position:"right",m=0<r.widget_logo_img.length?0==r.widget_logo_img.indexOf("/")?o.config.aws_cdn_url+r.widget_logo_img:o.config.aws_cdn_url+"/"+r.widget_logo_img:"";1==r.widget_bg_check&&null!=r.widget_bg_img&&0<r.widget_bg_img.length&&(s=0==r.widget_bg_img.indexOf("/")?o.config.aws_cdn_url+r.widget_bg_img:o.config.aws_cdn_url+"/"+r.widget_bg_img),-1!=a.indexOf("/referral/")&&"redirect"==r.widget_click_navigate&&(void 0!==r.widget_click_navigate_url&&""!=r.widget_click_navigate_url||(r.widget_click_navigate="lightbox")),-1!=a.indexOf("/referral/")&&localStorage.setItem("GR_loyalty_id_widget",e.id_widget);u="";"redirect"==r.widget_click_navigate?u="GRWidgetObj.openInNewTab('"+e.id_widget+"');return false;":(-1!=a.indexOf("/referral/")&&(u="GRWidgetObj.refreshPoints(1, "+e.id_widget+");"),u+="GRWidgetObj.showPopup("+e.id_widget+");return false;");b='<a class="am-widgetbar-cta" rel="noopener" href="'+a+'" target="_blank" onclick="'+u+'" >Show</a>';0<=a.indexOf("/purchase/")&&(b='<a class="am-widgetbar-cta" rel="noopener" data-href="'+a+'" onclick="'+u+'" >Show</a>'),n+='<div id="gr-am-widgetbar_'+e.id_widget+'" class="am-widgetbar am-widgetbar-gratisfaction am-widgetbar-'+g+" am-mob-"+p+" am-"+c+" am-mob-"+i+'" style="display:none;">                        <div class="am-GRwidgetbar-box am-GRwidgetbar-box_'+e.id_widget+'">                            <div class="am-GRwidgetbar-bg-image"></div>                            <div class="am-widgetbar-content">                                <div class="am-widgetbar-logo-wrap">                                    <img src="'+m+'" alt="" class="am-widgetbar-logo">                                </div>                                <div class="am-widgetbar-title-group">                                    <div class="am-widgetbar-maintitle"><span>'+l+'</span><span id="rewardPointsContainer_'+e.id_widget+'" class="rewardPointsContainer" style="display:none;"></span></div>                                    <div class="am-widgetbar-subtitle">'+d+"</div>                                </div>                            </div> "+b+'                            <a role="button" class="am-widgetbar-close" style="display: none;" id="gr-bar-closer" onclick="GRWidgetObj.hideWidget('+e.id_widget+');return false;"><span> &times;</span></a>                        </div>                    </div>',localStorage.setItem("gr_widget_campaign_url",r.app_url);l="1"==r.has_border_hover_flag?"1px solid "+r.hover_border_color:"0",d=""!=r.hover_shadow_color?"0px 6px 24px "+r.hover_shadow_color:"none",b=""==s?r.hover_bg_color+" !important":"transparent";n+="<style>                            .am-GRwidgetbar-box_"+e.id_widget+":hover{                                color:"+r.hover_txt_color+"!important;                                border:"+l+"!important;                                box-shadow:"+d+"!important;                            }.am-GRwidgetbar-box_"+e.id_widget+":hover .am-GRwidgetbar-bg-image{background-color:"+b+";}@media only screen and (max-width: 767px) {                            .am-widgetbar div.am-GRwidgetbar-box_"+e.id_widget+" {                            transform: translate("+_+"px, "+h+"px)}                            } @media only screen and (min-width: 768px) {                            .am-widgetbar div.am-GRwidgetbar-box_"+e.id_widget+" {                            transform: translate("+y+"px, "+t+"px)}                            }</style>";t=k.createElement("div");t.innerHTML=n,"top-bar"==r.widget_position?k.body.insertBefore(t,k.body.firstChild):k.body.appendChild(t);t=r.border_roundness;0<t&&t<4&&(t*=6*t*t),o.applyCss(".am-GRwidgetbar-box_"+e.id_widget,{"background-repeat":"no-repeat","background-size":"cover",color:r.norm_txt_color,"font-family":r.font_family,"font-size":r.widget_size+"px","border-radius":t+"px",border:"1"==r.has_border_flag?"1px solid "+r.norm_border_color:"0","box-shadow":""!=r.norm_shadow_color?" 0px 6px 24px "+r.norm_shadow_color:""});o.isMobileTab?(void 0!==r.mobile_x_position&&r.mobile_x_position,void 0!==r.mobile_y_position&&r.mobile_y_position):(void 0!==r.desktop_x_position&&r.desktop_x_position,void 0!==r.desktop_y_position&&r.desktop_y_position),""==s?o.applyCss("#gr-am-widgetbar_"+e.id_widget+" .am-GRwidgetbar-bg-image",{"background-color":r.norm_bg_color}):o.applyCss("#gr-am-widgetbar_"+e.id_widget+" .am-GRwidgetbar-bg-image",{"background-image":"url("+s+")","background-color":"transparent !important"}),""==u&&o.showWidget(e.id_widget)}}catch(e){}},loadReferralPopup:function(e){var t=this,o=rname=rurl=getRefCouponSiteParam=getRefCouponTimeParam="";getRefCouponTimeParam=void 0!==e&&""!=e?(o=t.getParameterByName("g_ref",e),rname=t.getParameterByName("rname",e),rurl=t.getParameterByName("rurl",e),getRefCouponSiteParam=t.getParameterByName("g_site",e),t.getParameterByName("display_time",e)):(o=t.getParameterByName("g_ref"),rname=t.getParameterByName("rname"),rurl=t.getParameterByName("rurl"),getRefCouponSiteParam=t.getParameterByName("g_site"),t.getParameterByName("display_time"));var i=C.session("get","coupon_ref"),r=C.session("get","hide_coupor_bar"),a=!0;if(null!=i&&"undefined"!=i&&null!=i&&"null"!=i&&(a=JSON.parse(i).g_ref==o),"EXAMPLE"!=o&&("undefined"==o||""==o||null==o||null!=i&&null!=i&&a)){if(null!=i&&0<i.length){if(1==C.session("get","is_user_coupon_restricted"))return!1;null!=r&&null!=r||t.loadCouponBar();JSON.parse(i);var n=!(C.session("get","ref_exec_time")==getRefCouponTimeParam)&&null!=getRefCouponTimeParam;n&&C.session("set","ref_exec_time",getRefCouponTimeParam),void 0!==e&&""!=e&&(n=!0),t.loadCouponPopup(n)}}else{t.processCoupon=function(e){delete GRWidgetObj.processCoupon;try{if(null==e)throw{msg:"Invalid data"};if(1==e.error)throw{msg:"Invalid data"};if(C.session("set","coupon_ref",JSON.stringify({g_ref:o,id_site:t.config.site.id,rname:rname,rurl:rurl,coupon:e.coupon,username:e.name,email_reply_to:e.email_reply_to,coupon_value:e.coupon_value,referral_bar_position:e.referral_bar_position,referral_popup_title:e.referral_popup_title,referral_popup_desc:e.referral_popup_desc,referral_popup_font_family:e.referral_popup_font_family,referral_popup_text_color:e.referral_popup_text_color,referral_popup_bg_color:e.referral_popup_bg_color,referral_popup_heart_color:e.referral_popup_heart_color})),C.session("set","ref_exec_time",getRefCouponTimeParam),1==C.session("get","is_user_coupon_restricted"))return!1;t.loadCouponBar(),t.loadCouponPopup(!0)}catch(e){}};e="EXAMPLE"==o?"&g_site="+getRefCouponSiteParam:"",n="";"NO_COUPON"==o&&(n+="&id_site="+t.config.site.id,n+="&rname="+rname,n+="&rurl="+rurl),t.loadScript(t.config.callback_url+"/ref/getCouponInfo?g_ref="+o+n+e+"&callback=GRWidgetObj.processCoupon","gr-coupon-config")}},cancelRedeemedCouponConfirm:function(e){try{k.getElementById("grPbyP_cancel").style.display="none",k.getElementById("grPbyP_cancel_confirm").style.display="flex"}catch(e){}},cancelRedeemedCouponClose:function(e){try{k.getElementById("grPbyP_cancel").style.display="block",k.getElementById("grPbyP_cancel_confirm").style.display="none"}catch(e){}},cancelRedeemedCoupon:function(e){try{var t="?coupon="+e+"&callback=GRWidgetObj.cancelRedeemedCouponHandle",o=this.getQueryString();0<o.length&&(t+="&"+o);o=k.getElementById("gr-cancel-coupon");null!=o&&o.remove(),k.getElementById("grPbyP_loader").style.display="block",k.getElementById("grPbyP_error_restore").style.display="none",this.loadScript(this.config.callback_url+"/widgets/cancelRedeemedCoupon"+t,"gr-cancel-coupon",null)}catch(e){}},cancelRedeemedCouponHandle:function(e){k.getElementById("grPbyP_loader").style.display="none";try{if(void 0===e)throw{msg:gr_config.locale.something_wrong};if(void 0!==e.error&&1==e.error)k.getElementById("grPbyP_error_restore").textContent=e.msg,k.getElementById("grPbyP_error_restore").style.display="block";else{if(void 0===e.error||0!=e.error)throw{msg:gr_config.locale.something_wrong};null!=localStorage.getItem("gr_paybypoints_coupon")&&""!=localStorage.getItem("gr_paybypoints_coupon")&&localStorage.removeItem("gr_paybypoints_coupon"),this.setUserPointsStorage(e),this.resetPayByPointsPopup(),GRWidgetObj.handlePayByPointsIcon()}}catch(e){k.getElementById("grPbyP_error_restore").textContent=e.msg,k.getElementById("grPbyP_error_restore").style.display="block"}},setUserPointsStorage:function(e){try{if(void 0===e.total_points||isNaN(e.total_points)||void 0===e.available_points||isNaN(e.available_points))throw{msg:"Invalid data"};GRWidgetObj.userPoints=e.total_points,localStorage.setItem("gr_user_points",JSON.stringify({label:e.points_label,value:e.total_points,available_points:e.available_points,ts:(new Date).getTime()}))}catch(e){}},ecwidApplyCoupon:function(e){try{var t;"object"==typeof Ecwid&&"object"==typeof Ecwid.OnPageLoad&&(GRWidgetObj.hidePayByPoints(),(t="undefined"==typeof Wix?0:1)?Ecwid.openPage("cart"):window.location.hash="#ecwid:mode=cart",setTimeout(function(){(t?document.querySelector(".ec-cart-coupon__text > a"):document.querySelector("div.ec-cart__coupon.ec-cart-coupon > label > a")).click(),setTimeout(function(){document.querySelector("#ec-cart-sidebar-discount-coupon-input").value=e,setTimeout(function(){document.querySelector("#ec-cart-sidebar-discount-coupon-input").dispatchEvent(new Event("input")),setTimeout(function(){document.querySelector(".ec-cart-coupon__button.ec-cart-coupon__button--apply > button").click()},500)},500)},500)},2e3))}catch(e){}},cpyToClipboard:function(e,t){try{var o,i,r,a,n,s=this,l=document.getElementById(e),d=gr_config.locale.label_copied;"undefined"!=typeof navigator&&void 0!==navigator.clipboard&&void 0!==navigator.clipboard.writeText?(navigator.clipboard.writeText(document.getElementById(e).value).then(()=>{}).catch(e=>{}),l.blur()):navigator.userAgent.match(/ipad|ipod|iphone/i)?(i=(o=l).contentEditable,r=o.readOnly,o.contentEditable=!0,o.readOnly=!1,(a=document.createRange()).selectNodeContents(o),(n=window.getSelection()).removeAllRanges(),n.addRange(a),o.setSelectionRange(0,999999),o.contentEditable=i,o.readOnly=r,document.execCommand("copy"),o.blur()):(l.select(),document.queryCommandSupported("copy")&&(document.execCommand("copy"),l.blur()),-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")&&(d='Press "cmd + c" to copy')),document.getElementById(t).style.display="block",document.getElementById(t).innerHTML=d,"grPbyP_apply"!=t?setTimeout(function(){k.getElementById(t).style.display="none"},3e3):(null!=s.couponCopied&&clearTimeout(s.couponCopied),s.removeClass("#grPbyP_apply","active"),setTimeout(function(){s.addClass("#grPbyP_apply","active")},60),s.couponCopied=setTimeout(function(){k.getElementById(t).innerHTML=gr_config.locale.label_copy,s.removeClass("#grPbyP_apply","active")},8e3))}catch(e){}},loadCouponPopup:function(e){try{if(0<document.getElementsByClassName("grCouponPopupBox").length)return;var t,e=e||!1,o=(this.config.siteConfig.settings,C.session("get","coupon_ref"));null!=o&&0<o.length&&((t=JSON.parse(o)).referral_popup_title=t.referral_popup_title,t.referral_popup_desc=t.referral_popup_desc,t.username=t.username,t.rurl=t.rurl||"",t.email_reply_to=t.email_reply_to||"",t.referral_popup_font_family=t.referral_popup_font_family||"montserrat",t.referral_popup_text_color=t.referral_popup_text_color||"#ffff",t.referral_popup_bg_color=t.referral_popup_bg_color||"#323648",t.referral_popup_heart_color=t.referral_popup_heart_color||"#32e9c3","NO_COUPON"==t.coupon?(copy_coupon='<div class="am-couponCodeBox" style="background: '+t.referral_popup_heart_color+'"><span id="am-coupon_code" class="am-couponBox" style="white-space: normal;opacity:1;">Problem displaying coupon. Please contact the site admin</span><div><a href="mailto:'+t.email_reply_to+"?subject=Referral%20coupon%20display%20error&body=Hi%20there%2C%0AI%20tried%20this%20link%20but%20there%20is%20an%20error%20in%20displaying%20the%20coupon.%20Please%20help%20"+t.rurl+'" class="am-mail-btn"><svg aria-hidden="true" focusable="false" width="16" height="16" viewBox="0 0 512 512"><path fill="currentColor" d="M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"></path></svg></a></div></div>',sessionStorage.removeItem("coupon_ref")):copy_coupon='<div class="am-couponCodeBox" style="background: '+t.referral_popup_heart_color+'"> <div class="typicons-cut am-icon1"></div><div class="typicons-cut am-icon2"></div><input type="text" id="am-coupon_code" class="am-couponBox" value="'+t.coupon+'"  style="color: '+t.referral_popup_bg_color+'" /><span style="color: '+t.referral_popup_bg_color+'" class="am-couponBox">'+t.coupon+"</span><div class=\"am-couponCopyTrigger\" onclick=\"GRWidgetObj.cpyToClipboard('am-coupon_code', 'am-couponCopyTxt');return false;\">"+gr_config.locale.label_copy+'</div><div id="am-couponCopyTxt" class="am-couponCopyTxt"></div></div>',o='<div class="am-widgetWrapper grCouponPopupBox"> <div class="am-widgetContainer am-referralContainer" style="font-family: '+t.referral_popup_font_family+", sans-serif; color: "+t.referral_popup_text_color+"; background-color: "+t.referral_popup_bg_color+';"><div> <a class="am-referralClose" id="gr_overlay_coupon_close" onclick="GRWidgetObj.hideCouponPopup();return false;" title="Close">&times;</a><div class="am-widgetTitle"><div class="am-widgetSprinkles"> <div class="am-widgetSprinkles-1"></div><div class="am-widgetSprinkles-2"></div><div class="am-widgetSprinkles-3"></div><div class="am-widgetSprinkles-4"></div><div class="am-widgetSprinkles-5"></div></div></div><div class="am-widgetHeading" style="color: '+t.referral_popup_heart_color+'">'+t.referral_popup_title+'</div><div class="am-widgetDescription">'+t.referral_popup_desc+"</div>"+copy_coupon+"</div></div></div>",o+='<style>@import url(https://weloveiconfonts.com/api/?family=fontawesome|typicons);[class*=fontawesome-]:before{font-family:FontAwesome,sans-serif}[class*=typicons-]:before{font-family:Typicons,sans-serif}div.am-widgetWrapper{font-family:Heebo,sans-serif;position:fixed;width:100%;height:100%;left:0;top:0;background-color:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;font-size:14px; z-index: 2147483647;overflow:auto;}div.am-widgetContainer{text-align:center;position:relative;max-width:570px;min-height:200px;width:90%;border-radius:2px;/*background-image:radial-gradient(ellipse at bottom,rgb(255,59,111,.5) 0,rgba(255,255,255,0) 100%);*/background-color:#323648;color:#fff}div.am-widgetContainer>div{padding:4em 0 3.5em}a.am-referralClose{cursor: pointer;color: inherit;opacity:0.66;font-size: 1.7em;position: absolute;right: 0;top: 0;transition: all .3s;font-family: sans-serif;font-weight: normal;line-height: 1;padding: 0.4em}div.am-couponCodeBox{background-color: #32e9c3;border: 1px dashed #fff;border-radius: 5em;font-size: 1.2em;padding: .75em 1em;margin: .8em auto;display: inline-flex;align-items: center;position: relative; max-width: 300px;width: 85%;}div.am-couponCodeBox div.am-couponCopyTrigger{color: #aaa;cursor: pointer;font-size: 12px;line-height: 1;text-transform: uppercase;padding: 0.6em 1em;background: #fff;border-radius: 1.5em;transition: all .5s;font-family: sans-serif; margin-left:auto;}div.am-couponCodeBox div.am-couponBox{font-family:"Courier New",Courier,monospace;font-weight:700;padding-right:.5em}.am-widgetDescription,.am-widgetHeading{width:85%;margin:.5em auto;max-width:342px;box-sizing:border-box;padding:.4em .5em;background:0 0;resize:none;height:auto;display:block;text-align:center;color:inherit;outline:0;font-family:inherit}.am-widgetDescription{font-size: 1.4em;font-weight: bold;line-height: 1.35;max-width: 440px}div.am-widgetTitle{width: 70%;position: absolute;left: 14%;height: 7em;top: 2em;z-index: 0;pointer-events: none;}div.am-widgetSprinkles>div{font-size:1em;width:1em;height:1em;border-radius:100%;position:absolute;background-color:#ffc549}div.am-widgetSprinkles div.am-widgetSprinkles-1{left:2em;top:1em;font-size:.8em}div.am-widgetSprinkles div.am-widgetSprinkles-2{left:-10em;bottom:0;font-size:.4em}div.am-widgetSprinkles div.am-widgetSprinkles-3{right:8em;top:0;font-size:.4em}div.am-widgetSprinkles div.am-widgetSprinkles-4{font-size:.6em;right:-4em;top:60%}div.am-widgetSprinkles div.am-widgetSprinkles-5{right:-7em;bottom:-3em;font-size:.8em}div.am-couponCodeBox div.typicons-cut{font-size:1.4em;font-weight:700;position:absolute}div.am-couponCodeBox div.am-icon1{top:0;left:1em;transform:translateY(-50%) rotate(-85deg)}div.am-couponCodeBox div.am-icon2{bottom:0;right:2em;transform:translateY(53%) rotate(-265deg)}.am-widgetHeading{min-height:2.2em;line-height:1.3;font-size:1em;font-weight:normal;padding-bottom:0}.am-widgetHeading:first-letter{text-transform: uppercase}.am-couponBox{display:inline-block;min-width:0;color:#444;cursor: text;overflow: hidden;white-space:nowrap;text-overflow: ellipsis;padding: 3px 5px 2px;} input.am-couponBox{position:absolute;opacity:0;width:20px;padding:0;border:0;pointer-events:none;font-size:17px;}span.am-couponBox {min-width: 110px;}.am-couponCopyTxt{position:absolute;left:100%;font-size:12px;background:#000;color:#fff;padding:3px 15px 4px;border-radius:6px}.am-couponCopyTxt:before{content:"";position:absolute;right:100%;border:5px solid transparent;border-right-color:#000;top:8px}.am-couponCopyTxt:empty{display:none}span#am-coupon_code{width:200px;color:#fff;font-size:12px;font-family:sans-serif;text-align:left;line-height:1.2;opacity:.75;position:relative;padding-left:30px}a.am-mail-btn{background:#fff;color:'+t.referral_popup_bg_color+';display:inline-block;width:60px;padding:1px 8px;border-radius:70px;height:32px;outline:0;}a.am-mail-btn svg{transform:rotate(25deg);transform-origin:center;width:18px;height:18px}span#am-coupon_code:before{content:"!";background:#ffb81c;position:absolute;left:4px;top:3px;width:20px;height:20px;border-radius:50%;text-align:center;line-height:20px;font-family:sans-serif;font-weight:700}@media (max-width:418px){div.am-widgetTitle{font-size: 8px;}}</style>',o+='<link rel="stylesheet" href="'+this.config.aws_cdn_url+"/assets/fonts/custom/"+t.referral_popup_font_family+'/fontface.css" />',(t=k.createElement("div")).innerHTML=o,k.body.appendChild(t),this.hideCouponPopup(),e&&this.showCouponPopup())}catch(e){}},loadCouponBar:function(){try{this.config.siteConfig.settings;var e,t=C.session("get","coupon_ref");null!=t&&0<t.length&&((e=JSON.parse(t)).referral_popup_title=e.referral_popup_title,e.referral_popup_font_family=e.referral_popup_font_family||"montserrat",e.referral_popup_text_color=e.referral_popup_text_color||"#ffffff",e.referral_popup_bg_color=e.referral_popup_bg_color||"#323648",e.referral_popup_heart_color=e.referral_popup_heart_color||"#32e9c3",e.referral_bar_position=e.referral_bar_position||"top",t=widgetPopup="","NO_COUPON"!=e.coupon&&(t='<div class="am-couponCodeBox" style="background: '+e.referral_popup_heart_color+'"> <div class="typicons-cut am-icon1"></div><div class="typicons-cut am-icon2"></div><input type="text" id="am-coupon_code_bar" class="am-couponBox" value="'+e.coupon+'" /><span style="color: '+e.referral_popup_bg_color+'" class="am-couponBox">'+e.coupon+"</span><div class=\"am-referralBar-couponBtn\" onclick=\"GRWidgetObj.cpyToClipboard('am-coupon_code_bar', 'am-couponCopyTxt-bar');return false;\">"+gr_config.locale.label_copy+'<div id="am-couponCopyTxt-bar" class="am-couponCopyTxt-bar"></div></div></div>',widgetPopup+='<div class="am-referralBar grCouponBar am-referral-'+e.referral_bar_position+'" style="font-family: '+e.referral_popup_font_family+", sans-serif; color: "+e.referral_popup_text_color+"; background-color: "+e.referral_popup_bg_color+';"> <div class="am-referralBar-contentArea"> <div class="am-referralBar-textArea"><div class="am-referralBar-userThumb"><div class="am-referralBar-thumbnail"></div></div><div class="am-referralBar-userText">'+e.referral_popup_title+"</div></div>"+t+'</div><div class="am-referralBar-close" onclick="GRWidgetObj.hideCouponBar();return false;"> &times; </div><div class="am-referralBar-infoPop">Get this label by clicking on the same url again.<div class="am-referralBar-hideBtn" onclick="GRWidgetObj.hideCouponBar();return false;">Hide Now</div></div></div>',widgetPopup+='<style>@import url(https://weloveiconfonts.com/api/?family=fontawesome|typicons);[class*=fontawesome-]:before{font-family:FontAwesome,sans-serif}[class*=typicons-]:before{font-family:Typicons,sans-serif}div.am-referralBar{/*background-image: linear-gradient(to right, rgba(0,0,0,0) 0%, rgb(255, 59, 111,0.4) 100%);*/font-family: Heebo,sans-serif;color: #fff;position: fixed;padding: 0 3em;box-sizing: border-box;width: 100%;left: 0;font-size: 14px;z-index: 2147483644}div.am-referralBar.am-referralBar-hide{display: none!important}div.am-referral-top{top: 0}div.am-referral-bottom{bottom: 0}.am-referralBar.am-referral-top {position: relative;}div.am-referralBar-close{cursor: pointer;color: inherit;opacity: 0.6;position: absolute;right: 0;font-size: 1.7em;line-height: .5;top: 50%;transform: translateY(-50%);padding: .4em;transition: color .3s}div.am-referralBar-close:hover{opacity:0.8;}div.am-referralBar-contentArea{display: flex;justify-content: space-between;align-items: center;max-width: 1000px;padding: 0.7em 1em 0.75em;margin: 0 auto} .am-referralBar-userText:first-letter {text-transform: uppercase;}div.am-referralBar-textArea{flex-grow: 1;display: flex;align-items: center}div.am-referralBar-userThumb{flex-shrink: 0;position: relative}div.am-referralBar-thumbnail{background-color: #1abd06;width: 8px;height: 8px;border-radius: 50%;position:relative;top:-2px;}div.am-referralBar-userText{padding-left: 1em;font-size: 1em}.am-referralBar-couponBtn{flex-shrink: 0;position: relative;border: 0;padding: 5px 10px 4px;border-radius: 3em;line-height: 1;font-family: sans-serif;cursor: pointer;transition: all .3s;background: #fff;color: #bbb}.am-referralBar-couponBtn:hover{box-shadow: 0 4px 2px rgba(50,50,50,.5)}div.am-referralBar.am-referralBar-showInfoPop div.am-referralBar-infoPop{display: block}div.am-referralBar-infoPop{display: none;position: absolute;font-size: .9em;width: 13em;margin: 1em;right: 0;background: #fff;box-shadow: 1px 1px 5px rgba(0,0,0,.54);color: #666;line-height: 1.2;padding: 1em;border-radius: .3em}div.am-referralBar-infoPop:before{content: "";width: 0;height: 0;border-style: solid;position: absolute;right: .4em}div.am-referral-top div.am-referralBar-infoPop{bottom: 0;transform: translateY(110%)}div.am-referral-top div.am-referralBar-infoPop:before{border-width: 0 .5em .5em .5em;border-color: transparent transparent #fff transparent;top: 0;transform: translateY(-90%)}div.am-referral-bottom div.am-referralBar-infoPop{top: 0;transform: translateY(-110%)}div.am-referral-bottom div.am-referralBar-infoPop:before{border-width: .5em .5em 0 .5em;border-color: #fff transparent transparent transparent;bottom: 0;transform: translateY(90%)}div.am-referralBar-hideBtn{display: inline-block;margin-top: .5em;background: #ececec;border: 2px solid #fff;color: #777;padding: .45em .7em;border-radius: 1em;line-height: 1;cursor: pointer;transition: all .3s}div.am-referralBar-hideBtn:hover{color: #fff;background-color: #000}div.am-referralBar .am-st0{fill: url(#am_heart_left_2)}div.am-referralBar .am-st1{fill: url(#am_heart_right_2)}@media (max-width:768px){div.am-referralBar{font-size: 12px}}.am-couponCopyTxt-bar{position: absolute;background: #000;color: #fff;border-radius: 20px;padding: 5px;font-size: 12px;font-family: sans-serif;top: 100%;left: 50%;transform: translateX(-50%)}.am-couponCopyTxt-bar:empty{display: none}.am-couponCopyTxt-bar:before{content: "";border: 5px solid transparent;border-bottom-color: #000;position: absolute;display: block;bottom: 100%;left: 18px}.am-referral-bottom .am-couponCopyTxt-bar{top: auto;bottom: 100%}.am-referral-bottom .am-couponCopyTxt-bar:before{top: 100%;bottom: auto;border-bottom-color: transparent;border-top-color: #000}.am-referralBar div.am-couponCodeBox{font-size: 11px;width: auto;max-width: 180px;padding: 5px; margin: 0;margin: 0 0 0 5px;flex-shrink: 0;}@media (max-width:418px){div.am-referralBar{padding:0;font-size:10px}div.am-referralBar-close{right:0;padding:3px}div.am-widgetWrapper{align-items: flex-start !important;padding-top: 4em !important;} div.am-referralBar-contentArea{flex-wrap: wrap}div.am-referralBar-userText{font-size: 1.25em}.am-referralBar div.am-couponCodeBox{margin: 6px auto 0}div.am-referralBar-textArea{justify-content: center}} </style>',widgetPopup+='<link rel="stylesheet" href="'+this.config.aws_cdn_url+"/assets/fonts/custom/"+e.referral_popup_font_family+'/fontface.css" />',(e=k.createElement("div")).innerHTML=widgetPopup,k.body.insertBefore(e,k.body.firstChild)))}catch(e){}},showCouponPopup:function(){this.removeClass(".grCouponPopupBox","am-fadeOut")},hideCouponBar:function(){try{for(var e=document.getElementsByClassName("grCouponBar");0<e.length;)e[0].parentNode.removeChild(e[0]);C.session("set","hide_coupor_bar",1)}catch(e){}},hideCouponPopup:function(){this.addClass(".grCouponPopupBox","am-fadeOut")},getAppUrl:function(e){var e=e.settings,t=this.config.callback_url+e.app_url;try{var o=localStorage.getItem("GRmavtoken");void 0!==o&&""!=o&&null!=o&&"null"!=o&&"NULL"!=o&&(-1==t.indexOf("?")?t+="?mavtoken="+o:t+="&mavtoken="+o);o=C.local("get","GRid_ref");void 0!==o&&""!=o&&null!=o&&"null"!=o&&"NULL"!=o&&(-1==t.indexOf("?")?t+="?id_ref="+o:t+="&id_ref="+o)}catch(e){}return t},reload:function(e){try{0<k.querySelectorAll("#grWidgetIframe").length?k.getElementById("grWidgetIframe").src=this.getAppUrl(e):(this.loadPopup(e),this.config.iframeUrl=w_settings.app_url)}catch(e){}},pushGRParent:function(e,t){try{window.parent.postMessage({gr:e,refresh:t},"*")}catch(e){}},reloadEmbedCampaign:function(){try{for(var e=document.querySelectorAll("iframe.gr_iframe_widget"),t=(localStorage.getItem("GRmavtoken"),0);t<e.length;t++){var o=e[t];document.getElementById(o.id).src=this.replaceMavToken(o.src,1)}}catch(e){}},loadEmbedCampaign:function(e,t){var o=this,i="",r=550<screen.width?"100%":"95%";try{var a=id_ref="";-1!=location.href.indexOf("mavtoken=")&&(a=o.getParameterByName("mavtoken",location.href),localStorage.setItem("GRmavtoken",a),sessionStorage.setItem("GRmavtoken",a)),void 0!==(a=localStorage.getItem("GRmavtoken"))&&""!=a&&null!=a&&"null"!=a&&"NULL"!=a&&(-1==i.indexOf("?")?i="?mavtoken="+a:i+="&mavtoken="+a),-1!=location.href.indexOf("id_ref=")&&(id_ref=o.getParameterByName("id_ref",location.href),C.local("set","GRid_ref",id_ref)),id_ref=C.local("get","GRid_ref"),"undefined"!=typeof id_ref&&""!=id_ref&&null!=id_ref&&"null"!=id_ref&&(-1==i.indexOf("?")?i+="?id_ref="+id_ref:i+="&id_ref="+id_ref)}catch(e){}for(var n,s=document.querySelectorAll("a.ec-widget"),l=0;l<s.length;l++){var d=s[l],g=d.href+i;-1==(g=g.replace("contest/play","promo")).indexOf("?")?g+="?root=grembed":g+="&root=grembed";var p=d.getAttribute("data-tab");void 0!==p&&""!=p&&null!=p&&(g+="#"+p);p='<iframe frameborder="0" class="gr_iframe_widget" vspace="0" hspace="0" src="'+g+'" width="100%" height="400px" max-width="'+r+'" id="ec_iframe_'+l+'" allow="clipboard-write"></iframe>',g=k.createElement("div");g.innerHTML=p,d.parentNode.replaceChild(g,d)}setTimeout(function(){iFrameResize({checkOrigin:!1,heightCalculationMethod:"lowestElement",messageCallback:function(e){try{if("object"!=typeof e.message)throw{msg:"message is not an object"};var t;o.receiveMessage({data:e.message}),void 0!==e.message.mavtoken&&""!=e.message.mavtoken&&null!=e.message.mavtoken&&"null"!=e.message.mavtoken&&"NULL"!=e.message.mavtoken&&(t=e.message.mavtoken,localStorage.setItem("GRmavtoken",t),sessionStorage.setItem("GRmavtoken",t))}catch(e){}}},".gr_iframe_widget")},800);try{if(void 0===t||""==t||"undefined"!=(n=o.getParameterByName("g_ref",t))&&""!=n&&null!=n&&(1==o.hasClass(".grCouponPopupBox","am-fadeOut")?o.showCouponPopup():(this.loadReferralPopup(t),setTimeout(function(){o.showCouponPopup()},2e3))),void 0!==e&&""!=e){var c=e.replace(/\s/g,"-"),m=o.config.siteConfig.widget,f=window.location.href;void 0!==t&&""!=t&&(f=t);var u,b=o.config.site.domain,_=null==o.config.siteConfig.shop_url||void 0===o.config.siteConfig.shop_url?"":o.config.siteConfig.shop_url;for(u in f=(f=(f=f.replace(window.location.search,"")).replace("http://","")).replace("https://",""),b=(b=b.replace("http://","")).replace("https://",""),_=(_=_.replace("http://","")).replace("https://",""),m){var h=m[u];if(1==h.widget_status){var y=h.settings.desktop_show_specific_page_only,v=h.settings.desktop_show_home_page_only;if(0==o.isMobileTab&&(""!=y||1==v)){var w=""!=y?y.split(","):[],x=0;for(index=0;index<w.length;index++)(0<=w[index].indexOf(e)||0<=w[index].indexOf(c)||""!=t&&0<=t.indexOf(w[index]))&&(x=1);1!=v||f!=b+"/"&&f!=b&&f!=_+"/"&&f!=_||(x=1),1==x?(o.removeClass("#gr-am-widgetbar_"+h.id_widget,"am-hidden"),o.showWidget(h.id_widget)):o.hideWidget(h.id_widget)}if(o.isMobileTab){y=h.settings.mobile_show_specific_page_only,v=h.settings.mobile_show_home_page_only;if(""!=y||1==v){var P=""!=y?y.split(","):[],x=0;for(index=0;index<P.length;index++)(0<=P[index].indexOf(e)||0<=P[index].indexOf(c)||""!=t&&0<=t.indexOf(P[index]))&&(x=1);1!=v||f!=b+"/"&&f!=b&&f!=_+"/"&&f!=_||(x=1),1==x?(o.removeClass("#gr-am-widgetbar_"+h.id_widget,"am-mob-hidden"),o.showWidget(h.id_widget)):o.hideWidget(h.id_widget)}}}}}}catch(e){}},refreshCampaigns:function(e){try{for(var t=document.querySelectorAll("iframe.gr_iframe_widget"),o=this.getParameterByName("id_ref",location.href),i=0;i<t.length;i++){var r=t[i],a=r.src;void 0!==o&&""!=o&&null!=o&&"null"!=o&&(-1==a.indexOf("?")?a+="?id_ref="+o:a+="&id_ref="+o),r.src=a}var n=document.getElementById("grWidgetIframe");void 0!==n&&(a=n.src,void 0!==o&&""!=o&&null!=o&&"null"!=o&&(-1==a.indexOf("?")?a+="?id_ref="+o:a+="&id_ref="+o),n.src=a),this.showWidgetPopup(e)}catch(e){}},getParameterByName:function(e,t){try{t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");var o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":""}catch(e){}},loadLoyaltyPopup:function(e,t,o=null){try{var i=e.settings,r=i.theme_color||"#333333",a="Loyalty Rewards Program";if(void 0!==i.campaign_name&&(a=i.campaign_name),"redirect"==i.widget_click_navigate||"page"==i.widget_click_navigate)return;var n=this.getAppUrl(e),s=" grD-"+i.widget_position+" grM-"+i.mobile_position,l="",i="";if(-1!=location.href.indexOf("mavtoken=")&&(l=this.getParameterByName("mavtoken",location.href),localStorage.setItem("GRmavtoken",l),sessionStorage.setItem("GRmavtoken",l)),void 0!==l&&""!=l&&null!=l&&"null"!=l&&"NULL"!=l&&(-1==n.indexOf("?")?i="?mavtoken="+l:i+="&mavtoken="+l),n+=i,null==k.querySelector("#grLoyaltyIframe")){-1==n.indexOf("?")?n+="?root=popup":n+="&root=popup",null!=o&&""!=o&&(n+="#"+o);n='<div class="grLoyaltyPopupWrap "><div class="grLoyaltyPopup '+s+'">                                            <div class="grLoyaltyLoader">                                                <div class="grLoyaltyHeader" style="color: '+r+';">'+a+'</div>                                                <div class="grLoyaltySubHeader" style="background-color: '+r+'"><div class="grLSHSpinner"></div></div>                                                <div class="grLoyaltyContents"></div>                                            </div>                                            <div class="grLoyaltyIframeBox"><iframe frameborder="0" vspace="0" hspace="0" src="'+n+'" width="100%" height="510px" id="grLoyaltyIframe" onload="GRWidgetObj.iframeLoaded('+e.id_widget+', \'grLoyaltyIframe\');" allow="clipboard-write"></iframe></div>                                            <a href="#" class="gr-closebase" id="gr_loyalty_close" onclick="GRWidgetObj.hideLoyaltyPopup('+e.id_widget+');return false;" title="Close" style="color: '+r+';">&times;</a>                                        </div></div>',r=k.createElement("div");r.innerHTML=n,k.body.appendChild(r),this.addClass("#gr-am-widgetbar_"+t,"popup-loaded")}else try{document.getElementById("grLoyaltyIframe").contentWindow.postMessage({gr_show_tab:o},AMGRConfig.callback_url)}catch(e){}}catch(e){}},loadPopup:function(e){try{var t=this,o=e.settings;if("redirect"==o.widget_click_navigate||"page"==o.widget_click_navigate)return;var i=id_ref="";-1!=location.href.indexOf("mavtoken=")&&(i=t.getParameterByName("mavtoken",location.href),localStorage.setItem("GRmavtoken",i),sessionStorage.setItem("GRmavtoken",i),r=sessionStorage.getItem("authreload"),1==GRWidgetObj.isPlatFormLogin(AMGRConfig.user)&&null==r&&"1"!=localStorage.getItem("is_user_role_restricted")&&(GRWidgetObj.loginUser(),sessionStorage.setItem("authreload","1"))),-1!=location.href.indexOf("id_ref=")&&(id_ref=t.getParameterByName("id_ref",location.href),C.local("set","GRid_ref",id_ref));var r,o=t.getAppUrl(e),i="";-1==o.indexOf("/referral/")&&(i=" grCampaign"),null==k.querySelector("#grWidgetIframe")?(r='<div class="grPageOverLay grPageOverLay_'+e.id_widget+'" style="display:none;"></div>                                        <div class="grPopupBox'+i+' am-popOut">                                            <div class="gr-initialLoader">                                                <div class="appLoader"><div class="campaign-loading-container hde"><div class="campaign-loader">Loading...</div></div></div>                                            </div>                                            <div class="grIframeBox"><iframe frameborder="0" vspace="0" hspace="0" src="'+o+'" width="100%" height="700px" id="grWidgetIframe" onload="GRWidgetObj.iframeLoaded('+e.id_widget+', \'grWidgetIframe\');" allow="clipboard-write"></iframe></div>                                            <a href="#" class="gr-closebase" id="gr_overlay_close" onclick="GRWidgetObj.hidePopup('+e.id_widget+');return false;" title="Close" style="display:none;">&times;</a>                                        </div>',(i=k.createElement("div")).innerHTML=r,k.body.appendChild(i)):document.getElementById("grWidgetIframe").src=o,k.querySelector(".grPageOverLay, .grPopupBox").onclick=function(){t.hidePopup(e.id_widget)},t.applyCss("#gr_overlay_close",{display:"block"})}catch(e){}},loadPUCPopup:function(e,t){try{var o;this.addClass("#gr-am-widgetbar_"+e.id_widget,"loading"),0<k.querySelectorAll(".ampcLoader_"+t).length?k.querySelector(".ampcLoader_"+t).style.display="block":(i=k.createElement("div"),o="1"==localStorage.getItem("gr_purchase_opener_"+t)?"block":"none",i.innerHTML='<div class="ampcLoader_'+t+'" style="display:'+o+';"></div>',k.body.appendChild(i)),window.scrollTo(0,1);var i=AMGRConfig.siteConfig.widget[t].settings.app_url.replace("/purchase/",""),r=AMGRConfig.callback_url+"/services/v2/purchase?eid="+i+"&includes=prizes,winners";0<k.querySelectorAll("#gr-purchase-sdk-"+t).length?0<k.querySelectorAll("#ampc__"+t).length&&"gr_ecwid"!=AMGRConfig.site.platform?(k.getElementById("ampc__"+t).style.display="block",k.querySelector(".ampcLoader_"+t).style.display="none",this.removeClass("#gr-am-widgetbar_"+t,"loading"),document.querySelector("#gr-am-widgetbar_"+t).style.display="none"):(PUWObj.loadData(r,t),PUCConfig[t].loaded=!0):this.loadScript(AMGRConfig.pc_js_url+"/assets/js/purchase-sdk/purchase-sdk"+AMGRConfig.js_min+".js?v=4.0","gr-purchase-sdk-"+t,function(){PUWObj.loadData(r,t),PUCConfig[t].loaded=!0})}catch(e){}},handleIframeMsg:function(){var i=this;i.iframe=k.getElementById("grWidgetIframe").contentWindow,iFrameResize({checkOrigin:!1,heightCalculationMethod:"taggedElement",messageCallback:function(e){if("referral-signin"==e.message&&localStorage.setItem("gr_show_popup",1),"refresh-points"==e.message)i.refreshPoints(1);else if("object"==typeof e.message)try{if(void 0!==e.message.id_widget&&""!=e.message.id_widget&&localStorage.setItem("gr_id_widget",e.message.id_widget),void 0!==e.message.action&&""!=e.message.action&&"close-popin"==e.message.action&&i.hidePopup(e.message.id_widget),void 0===e.message.mavtoken||""==e.message.mavtoken)throw{msg:"mavtoken is undefined or empty"};var t,o=e.message.mavtoken;void 0!==o&&""!=o&&null!=o&&"null"!=o&&"NULL"!=o&&(localStorage.setItem("GRmavtoken",o),sessionStorage.setItem("GRmavtoken",o),void 0!==(t=document.getElementById("grWidgetIframe"))&&(o=t.src,t.src=i.replaceMavToken(o)))}catch(e){}}},"#grWidgetIframe")},getQueryString:function(){try{var e="",t=this;if(void 0!==t.config.user.user_roles&&""!=t.config.user.user_roles?e="user_roles="+t.config.user.user_roles:void 0!==t.config.user.id_group&&(e="user_roles="+t.config.user.id_group),"undefined"==t.config.user.id||""==t.config.user.id||"undefined"==t.config.user.email||""==t.config.user.email)throw{msg:"Invalid user details"};e+=""==e?"":"&","gr_ecwid"!=t.config.site.platform?e+="acidMav="+t.config.site.id+"&uniqueID=":e+="acidMav=&uniqueID="+t.config.site.id;var o=localStorage.getItem("GRmavtoken");void 0!==o&&""!=o&&"null"!=o&&null!=o&&"NULL"!=o&&(e+="&mavtoken="+o);var i="";void 0!==t.config.user.name&&""!=t.config.user.name&&null!=t.config.user.name&&"null"!=t.config.user.name&&(i=encodeURI(t.decodeHtml(t.config.user.name.replace("&amp;","&"))));var r="";void 0!==t.config.user.first_name&&(r="&grfname="+encodeURI(t.decodeHtml(t.config.user.first_name.replace("&amp;","&"))));o="";return void 0!==t.config.user.last_name&&null!=t.config.user.last_name&&"null"!=t.config.user.last_name&&(o="&grlname="+encodeURI(t.decodeHtml(t.config.user.last_name.replace("&amp;","&")))),e+="&app="+t.config.site.platform+"&grcli="+t.config.user.id+"&gremc="+t.config.user.email+"&grcln="+i+r+o}catch(e){return""}},decodeHtml:function(e){try{var t=document.createElement("textarea");return t.innerHTML=e,t.value}catch(e){}},refreshPoints:function(e,o){var t=this;e=void 0===e?0:e,t.processPoints=function(e){delete GRWidgetObj.processPoints;var t=k.getElementById("gr-refresh-points");null!=t&&t.remove();try{GRWidgetObj.showPointsOnWidget(e,o)}catch(e){}};try{if(null==k.getElementById("rewardPointsContainer_"+o))throw{msg:"Invalid request"};if(t.config.user.email.length<=0)throw k.getElementById("rewardPointsContainer_"+o).style.display="none",{msg:"No user email"};var i,r=t.getQueryString();if(r.length<=0)throw{msg:"Invalid request"};function a(){i="?callback=GRWidgetObj.processPoints&"+r,t.loadScript(t.config.callback_url+"/widgets/getPageLoadData"+i,"gr-refresh-points")}var n=localStorage.getItem("gr_user_points");if(1!=e&&null!=n&&0<n.length)try{var s=JSON.parse(n);if(void 0===s.label||s.label.length<=0||void 0===s.value||s.value<=0||void 0===s.ts||s.ts<=0)throw{msg:"Invalid ss user points"};if(Math.floor(((new Date).getTime()-s.ts)/1e3)<=300){var l=k.getElementById("rewardPointsContainer_"+o);if(l.innerHTML="<span>"+s.label+"</span>"+s.value,l.style.display="inline-block",0<(l=document.getElementsByClassName("gr_total_points")).length)for(var d=0;d<l.length;d++)l[d].innerHTML=s.value;return}}catch(e){a()}a()}catch(e){}},showPointsOnWidget:function(e,t,o){var i=this;try{if(void 0!==e.is_spam_protected&&localStorage.setItem("is_spam_protected",1),void 0!==e.is_user_role_restricted)if(localStorage.setItem("is_user_role_restricted",e.is_user_role_restricted),"1"==e.is_user_role_restricted){GRWidgetObj.hideWidget(t);var r,a;for(a in i.config.siteConfig.widget)-1!=(r=i.config.siteConfig.widget[a]).settings.app_url.indexOf("/referral/")&&GRWidgetObj.hideWidget(r.id_widget);var n=i.config.siteConfig.bonus_settings;void 0!==n&&void 0!==n.data&&0<n.data.length&&GRWidgetObj.hideBonus(n.idle)}else GRWidgetObj.showWidget(t);if(void 0!==e.error&&1==e.error?localStorage.setItem("gr_validation_error",1):localStorage.removeItem("gr_validation_error"),null==e||void 0===e.error||void 0===e.points||0!=e.error||isNaN(e.points))throw{msg:"Invalid data"};var s=document.getElementById("rewardPointsContainer_"+t);if(s.innerHTML="<span>"+e.points_label+"</span>"+e.points,GRWidgetObj.userPoints=e.points,0==e.points||2==e.status?s.style.display="none":s.style.display="inline-block",0<(s=document.getElementsByClassName("gr_total_points")).length)for(var l=0;l<s.length;l++)s[l].innerHTML=e.points;n=(new Date).getTime();localStorage.setItem("gr_user_points",JSON.stringify({label:e.points_label,value:e.points,available_points:e.available_points,ts:n})),i.loadPointsRedeemPopup(i.config.siteConfig.pay_points)}catch(e){}},replaceMavToken:function(e,t=0){try{var o="",i=e.split("#");1<i.length&&(o="#"+i[1]);var r=i[0].split("?"),a="",n=localStorage.getItem("GRmavtoken");"URLSearchParams"in window&&(a=void 0===r[1]?"":r[1],i=new URLSearchParams(a),void 0!==n&&""!=n&&"null"!=n&&null!=n&&"NULL"!=n&&i.set("mavtoken",n),""==o&&1!=t||(n=new Date,timestamp=n.getTime(),i.set("tmstmp",timestamp)),a="?"+i.toString()),e=r[0]+a+o}catch(e){}return e},iframeLoaded:function(e,t){var o=this,i=k.getElementById(t);if(o.showWidget(e),null!=i&&""!=i.src){if(o.config.iframeLoaded=1,""==t)o.applyCss(".gr-initialLoader",{display:"none"}),o.applyCss("#gr_overlay_close",{display:"block"}),o.applyCss(".grIframeBox",{display:"block"}),o.removeClass(".grPopupBox","am-popOut");else{try{document.getElementById("grLoyaltyIframe").contentWindow.postMessage("popup",window.location.host)}catch(e){}o.applyCss(".grLoyaltyIframeBox",{display:"block"}),setTimeout(function(){o.applyCss(".grLoyaltyLoader",{display:"none"})},200)}try{o.handleIframeMsg()}catch(e){}}},showPopup:function(e,t=null){try{var o=this;if(1==o.hasClass(".grPageOverLay","am-fadeIn"))return!1;if(void 0!==e&&null!=e&&""!=e||(e=Object.keys(o.config.siteConfig.widget)[0]),void 0===o.config.siteConfig.widget[e])return!1;var i=o.config.siteConfig.widget[e];if(w_settings=i.settings,C.session("set","gr_widget_campaign_url",w_settings.app_url),"redirect"==w_settings.widget_click_navigate||"page"==w_settings.widget_click_navigate)return!1;if(i.settings.app_url.includes("/purchase/"))"undefined"==typeof PUCConfig&&(window.PUCConfig={}),void 0===PUCConfig[e]&&(PUCConfig[e]={loaded:!1,interval:null}),void 0!==AMGRConfig.user.email&&""!=AMGRConfig.user.email&&null!=AMGRConfig.user.email&&localStorage.removeItem("gr_guest_email_"+e),o.loadPUCPopup(i,e);else if(i.settings.app_url.includes("/referral/"))0<document.querySelectorAll(".grLoyaltyPopupWrap").length?(o.addClass(".grLoyaltyPopupWrap","am-fadeIn"),o.removeClass(".grLoyaltyPopupWrap","am-fadeOut"),o.addClass("#gr-am-widgetbar_"+e,"popup-loaded"),null!=t&&""!=t&&o.loadLoyaltyPopup(i,e,t)):o.loadLoyaltyPopup(i,e,t);else{var r=""==o.config.iframeUrl?1:0;o.applyCss(".grIframeBox",{display:"none"}),o.applyCss("#gr_overlay_close",{display:"none"}),o.applyCss(".gr-initialLoader",{display:"block"}),o.removeClass(".grPopupBox","am-popOut"),1!=o.config.iframeLoaded?(o.loadPopup(i),o.config.iframeUrl=w_settings.app_url):(o.config.iframeUrl!=w_settings.app_url&&(o.reload(i),o.config.iframeUrl=w_settings.app_url),o.applyCss(".gr-initialLoader",{display:"none"}),o.applyCss(".grIframeBox",{display:"block"}),o.applyCss("#gr_overlay_close",{display:"block"}),o.removeClass(".grPopupBox","am-popOut")),o.isIframe&&o.addClass("body","am-GRPopUpOpened"),o.addClass(".grPageOverLay","am-fadeIn"),o.removeClass(".grPageOverLay","am-fadeOut"),1==r&&o.removeClass(".grPopupBox","am-popOut"),o.applyCss(".grPopupBox",{top:(p.pageYOffset||k.documentElement.scrollTop)+"px"});try{o.handleIframeMsg()}catch(e){}}}catch(e){}return!0},hideLoyaltyPopup:function(e){try{var t=this,o=t.config.siteConfig.widget[e];if(w_settings=o.settings,"redirect"==w_settings.widget_click_navigate)return;t.removeClass(".grLoyaltyPopupWrap","am-fadeIn"),t.removeClass("body","am-GRPopUpOpened"),t.removeClass("#gr-am-widgetbar_"+e,"popup-loaded"),t.addClass(".grLoyaltyPopupWrap","am-popOut"),setTimeout(function(){t.addClass(".grLoyaltyPopupWrap","am-fadeOut"),t.removeClass(".grLoyaltyPopupWrap","am-popOut")},200)}catch(e){}},hidePopup:function(e){try{var t=this,o=t.config.siteConfig.widget[e];if(w_settings=o.settings,"redirect"==w_settings.widget_click_navigate)return;t.removeClass(".grPageOverLay","am-fadeIn"),t.removeClass("body","am-GRPopUpOpened"),t.addClass(".grPageOverLay","am-fadeOut"),t.addClass(".grPopupBox","am-popOut")}catch(e){}},applyCss:function(e,t){try{var o,i=k.querySelector(e);if(null==i)return;for(o in t)i.style[o]=t[o]}catch(e){}},addClass:function(e,t){try{var o=k.querySelector(e);if(null==o)return;null==i&&(i=[]);var i=o.getAttribute("class"),r=[];if(null==i&&(i=[]),0<i.length&&-1!=(r=i.split(" ")).indexOf(t))return;r.push(t),o.setAttribute("class",r.join(" ").trim())}catch(e){}},removeClass:function(e,t){try{var o=k.querySelector(e);if(null==o)return;var i,r=o.getAttribute("class");null==r&&(r=[]),0<r.length&&(-1!=(r=(i=r.split(" ")).indexOf(t))&&delete i[r],o.setAttribute("class",i.join(" ").trim()))}catch(e){}},hasClass:function(e,t){try{var o=k.querySelector(e);if(null==o)return!1;o=o.getAttribute("class");if(null==o&&(o=[]),0<o.length)if(-1!=o.split(" ").indexOf(t))return!0}catch(e){}return!1},removeClasses:function(e,t){try{for(var o=document.getElementsByClassName(e),i=0;i<o.length;i++)o[i].classList.remove(t)}catch(e){}},showWidget:function(e){try{this.applyCss("#gr-am-widgetbar_"+e,{display:"block"}),setTimeout(function(){null!=document.getElementById("gr-am-widgetbar_"+e)&&(document.getElementById("gr-am-widgetbar_"+e).style.width=document.querySelector(".am-GRwidgetbar-box_"+e).clientWidth+"px")},60)}catch(e){}},hideWidget:function(e){this.applyCss("#gr-am-widgetbar_"+e,{display:"none"})},showBonus:function(e){try{bonusIndex=bonusList.indexOf(e),this.removeClasses("am-bonus-box","active"),this.removeClasses("bonus-navigation-button","active"),this.addClass("#am_bonus_"+e,"active"),this.addClass("#bonus_btn_"+e,"active")}catch(e){}},hideBonus:function(e){try{this.applyCss("#gr-am-bonusbar",{display:"none"}),C.local("set","bonus_expiry",(new Date).getTime()+60*e*1e3)}catch(e){}},bindBehaviours:function(i){try{var t,o,r=this,a=i;if(void 0===a)return;if(1!=a.behaviour.is_first_visit||1==C.local("get","gr_is_first_visit_"+i.id_widget)||r.isMobileTab||setTimeout(function(){1==r.showPopup(i.id_widget)&&C.local("set","gr_is_first_visit_"+i.id_widget,1)},2e3),1==a.behaviour.scroll_flag&&1!=C.local("get","gr_auto_opener_"+i.id_widget)&&!r.isMobileTab)try{(k.documentElement.scrollHeight-k.documentElement.clientHeight<350||a.behaviour.scroll_percent<=0)&&1==r.showPopup(i.id_widget)&&C.local("set","gr_auto_opener_"+i.id_widget,1),p.onscroll=function(){var e=p.pageYOffset||k.documentElement.scrollTop,t=k.body.clientHeight,o=p.innerHeight;1!=C.local("get","gr_auto_opener_"+i.id_widget)&&Math.ceil(e/(t-o)*100)>=a.behaviour.scroll_percent&&1==r.showPopup(i.id_widget)&&C.local("set","gr_auto_opener_"+i.id_widget,1)}}catch(e){}1!=a.behaviour.after_seconds_flag||1==C.local("get","gr_time_opener_"+i.id_widget)||r.isMobileTab||setTimeout(function(){1!=C.local("get","gr_time_opener_"+i.id_widget)&&1==r.showPopup(i.id_widget)&&C.local("set","gr_time_opener_"+i.id_widget,1)},a.behaviour.nb_seconds),1==a.behaviour.exit_intent_flag&&1!=C.local("get","gr_exit_shown_"+i.id_widget)&&(r.isMobileTab?(t=p.scrollY,o=0,p.onscroll=function(){if(1==C.session("get","gr_exit_shown_"+i.id_widget))return!1;var e=p.scrollY;e<t?e<=100&&1==o&&1==r.showPopup(i.id_widget)&&C.session("set","gr_exit_shown_"+i.id_widget,1):t<e&&100<e&&(o=1),t=e}):k.addEventListener("mousemove",function(e){var t;1!=C.local("get","gr_exit_shown_"+i.id_widget)&&(t=p.pageYOffset||k.documentElement.scrollTop,e.pageY-t<7&&1==r.showPopup(i.id_widget)&&C.local("set","gr_exit_shown_"+i.id_widget,1))}))}catch(e){}},getWidgetCss:function(){try{var e="";return e+="@font-face { font-family: 'BARIOLREGULAR_0'; font-style: normal; font-weight: normal; src: local('Bariol Regular'), url('"+this.config.aws_cdn_url+"/assets/fonts/Bariol_Regular_0.woff') format('woff'); } @font-face{font-family:'Trebuchet MS';src:local('Trebuchet MS'),local('TrebuchetMS'),url('"+this.config.aws_cdn_url+"/assets/fonts/compressed/trebuchet-ms.woff') format('woff');font-weight:400;font-style:normal}@font-face{font-family:'Comic Sans MS';src:local('Comic Sans MS'),local('ComicSansMS'),url('"+this.config.aws_cdn_url+"/assets/fonts/compressed/comic-sans.woff') format('woff');font-weight:400;font-style:normal}",e+=".am-widgetbar-close,.gr-initialLoader{font-family:sans-serif;text-align:center}.gr-initialLoader .am-appLoader, .gr-initialLoader .appLoader, .gr-initialLoader{border-radius:14px;}div.grPopupBox {width:90%; max-width: 550px !important;animation: grPopIn 0.5s ease-in;} @keyframes grPopIn {from {transform:scale(0.8);opacity:0}to {transform:scale(1);opacity:1}} .grPopupBox.grCampaign{width:90%;max-width: 550px !important;}.grIframeBox{margin: auto;position:relative;overflow:hidden;}.grPopupBox iframe{margin:0;padding:0;vertical-align:bottom;max-width:100%;min-height:250px;position:relative;}.grPageOverLay{position:fixed;bottom:0;top:0;left:0;min-height:100vh;background-color:#000;opacity:.9;-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=90)';z-index:2147483647;width:100%;height:auto;display:none}.grPopupBox{max-width:550px!important;margin:0 auto;width:420px;height:auto;position:absolute;top:40px;left:0!important;right:0!important;z-index:2147483647}.grPopupBox.am-popOut{-webkit-animation:popout .2s;animation:popout .2s;display:none!important} .am-widgetbar.loading .am-widgetbar-content{font-size:0;width:20px;height:20px;margin:12px 20px;border:2px solid;border-radius:50%;border-left:0;animation:widgetLoader .6s linear infinite}.am-widgetbar.loading .am-widgetbar-content *{display:none}@keyframes widgetLoader{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}} @-webkit-keyframes popin{0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes popin{0%{-webkit-transform:scale(0);transform:scale(0)}100%{-webkit-transform:scale(1);transform:scale(1)}}@-webkit-keyframes popout{0%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0);transform:scale(0)}}@keyframes popout{0%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0);transform:scale(0)}}.am-displaynone{display:none}.am-fadeOut{display:none!important}.am-fadeIn{display:block!important}.gr-closebase{border:1px solid;background: #fff;border-radius:50%;box-sizing:content-box; color:#333;display:block;font-size:14px;position:absolute;text-align:center;-webkit-transform-origin:center;transform-origin:center;right:12px;text-decoration:none;top:12px;-webkit-transition:all .3s;transition:all .3s;width:24px;height:24px;line-height:24px;}.gr-closebase:hover{-webkit-transform:rotate(180deg);transform:rotate(180deg);}.gr-closebase:focus,.gr-closebase:hover{color:#333;text-decoration:none}.am-widgetbar img{display:block;box-shadow:none;-webkit-transform:none;transform:none;border:0;padding:0;margin:0;outline:0}.am-widgetbar{box-sizing:border-box;line-height:1.2;font-weight:400;font-style:normal;text-shadow:none;letter-spacing:0;cursor:pointer;display:inline-block;position:fixed;text-align:left;z-index: 2147483644}.am-widgetbar *:empty{display:initial}.am-widgetbar .am-GRwidgetbar-box{margin:0;position:absolute; bottom:0; overflow:hidden; backface-visibility:hidden; transform:translateZ(0);}.am-GRwidgetbar-box:after,.am-GRwidgetbar-box:before{content:'';clear:both;display:table}.am-widgetbar-content{margin-left: auto;margin-right: auto;box-sizing:border-box;display:table;padding:.8em .9em .75em;position:relative; min-width:0;}.am-widgetbar-content>div{display:table-cell;vertical-align:middle}.am-widgetbar-content .am-widgetbar-logo-wrap{padding-right:.4em;padding-left:.3em}.am-widgetbar-content .am-widgetbar-logo-wrap img{width:auto;height:1.75em!important;position:relative;top:-1px;max-width: none;}.am-GRwidgetbar-bg-image,.am-widgetbar-cta{width:100%;height:100%;top:0;position:absolute;left:0}.am-widgetbar-content .am-widgetbar-title-group{font-size:1em;padding-right:.3em}.am-widgetbar-content .am-widgetbar-maintitle{font-weight:normal!important; transform: translateZ(0);text-shadow: 0 -1px; white-space: nowrap;}.am-widgetbar-content .am-widgetbar-subtitle{font-weight:400;font-size:.75em;opacity:.66;-ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=66)'}.am-GRwidgetbar-box div {font-size: inherit;}.am-GRwidgetbar-bg-image{background-repeat:no-repeat;background-position:center;background-size:cover}.am-widgetbar-only-image,.am-widgetbar-only-image .am-GRwidgetbar-box{background:0 0!important}.am-widgetbar-cta{cursor:pointer;text-indent:-999px;overflow:hidden;opacity:0!important;}.am-widgetbar-close{top:25%;right:11px;width:22px;height:22px;position:absolute;color:inherit;text-decoration:none;font-size:22px;line-height:22px;border-radius:2px}.am-widgetbar-close:hover{color:inherit;text-decoration:none;}.am-widgetbar-only-image{width:200px;height:64px}.am-widgetbar-only-image .am-GRwidgetbar-bg-image{background-size:contain}.am-widgetbar-only-image .am-widgetbar-content{display:none}.am-widgetbar-left-side-drawer{left:0;top:50%;-webkit-transform:rotate(-90deg) translateX(-50%);transform:rotate(-90deg) translateX(-50%);-webkit-transform-origin:left top 0;transform-origin:left top 0} .am-widgetbar-side-drawer{right:0;top:50%;-webkit-transform:rotate(-90deg) translateX(50%);transform:rotate(-90deg) translateX(50%);-webkit-transform-origin:right top 0;transform-origin:right top 0}.am-widgetbar-mid-bottom-bar{bottom:0;left:50%;transform: translateX(-50%);}.am-widgetbar-top-bar{top:0;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.am-widgetbar-bottom-bar{bottom:0;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.am-widgetbar-top-left-corner{top:0;left: 0;height: 46px;}.am-widgetbar-top-right-corner{top: 0;left: auto;right: 0;height: 46px;}.am-widgetbar-mid-top-bar{top: 0;left: 50%;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);height: 46px;}.am-widgetbar-gratisfaction.am-widgetbar-bottom-bar,.am-widgetbar-gratisfaction.am-widgetbar-top-bar{margin:auto;width:auto;left:0;right:0;-webkit-transform:none;transform:none;max-width: 100vw;} .am-widgetbar-bottom-bar .am-GRwidgetbar-box,.am-widgetbar-top-bar .am-GRwidgetbar-box{margin:auto;background-repeat:repeat;background-size:auto; border-radius:0 !important; width: 100%;}.am-widgetbar-left-side-drawer .am-GRwidgetbar-box, .am-widgetbar-top-bar .am-GRwidgetbar-box {top:0;bottom:auto;}.am-widgetbar-left-bottom-bar,.am-widgetbar-lower-right-corner{top:auto;bottom:0;-webkit-transform:none;transform:none}.am-widgetbar-lower-right-corner, .am-widgetbar-lower-right-corner .am-GRwidgetbar-box{right:0}.am-widgetbar-bottom-bar .am-widgetbar-close,.am-widgetbar-top-bar .am-widgetbar-close{display:block!important;right:5px!important}span.rewardPointsContainer{background:#fff;border-radius:3em;border:1px dashed;color:#b32525;padding:4px 9px 3px;text-transform:capitalize;box-shadow:0 1px 5px rgba(0,0,0,.25);position:relative;white-space:nowrap;font-size:80%;margin-left:.4em;display:inline-block;top:-1px;font-weight:400;letter-spacing:.05em;text-shadow:none;}.am-widgetbar-top-bar.slideIn,.slideDown{-webkit-animation:slideDown 1s ease;animation:slideDown 1s ease;visibility:visible!important}@-webkit-keyframes slideDown{0%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}50%{-webkit-transform:translateY(8%);transform:translateY(8%)}65%{-webkit-transform:translateY(-4%);transform:translateY(-4%)}80%{-webkit-transform:translateY(4%);transform:translateY(4%)}95%{-webkit-transform:translateY(-2%);transform:translateY(-2%)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes slideDown{0%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}50%{-webkit-transform:translateY(8%);transform:translateY(8%)}65%{-webkit-transform:translateY(-4%);transform:translateY(-4%)}80%{-webkit-transform:translateY(4%);transform:translateY(4%)}95%{-webkit-transform:translateY(-2%);transform:translateY(-2%)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}.gr-initialLoader{position:absolute;background:#000;width:100%;top:62px;left:0;font-size:12px;min-height:360px;z-index:0}.gr-initialLoader .appLoader{background:#000;position:relative;height:360px;width:100%;top:50%;left:0;overflow:hidden;text-align:center;z-index:1020}.campaign-loading-container{position:absolute;width:100%;height:100%;left:0;top:0;background-color:rgba(0,0,0,.9);z-index:10;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.campaign-loading-container.hide{display:none}.campaign-loader,.campaign-loader:after,.campaign-loader:before{border-radius:50%;width:2.5em;height:2.5em;animation-fill-mode:both;animation:load7 1.8s infinite ease-in-out}.campaign-loader{color:#fff;font-size:10px;margin:0 auto 60px;position:relative;text-indent:-9999em;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.campaign-loader:after,.campaign-loader:before{content:'';position:absolute;top:0}.campaign-loader:before{left:-3.5em;animation-delay:-.32s}.campaign-loader:after{left:3.5em}@keyframes load7{0%,80%,to{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@media only screen and (max-width:600px){.gr-closebase{right:-17px;top:42px}}@media all and (min-width:418px) and (min-device-width:418px){.grPopupBox iframe{margin:62px 0 0}.grPopupBox .grIframeBox{margin-top: 0;padding-top: 62px;padding-bottom: 62px;} .grPopupBox .grIframeBox iframe{margin-top:0}}@media only screen and (max-width:480px){div.grPopupBox{max-width:100%!important;width:100%!important}.grPopupBox iframe{max-width:94%;margin:12px auto;display:block}.grPopupBox .grIframeBox{max-width:94%;margin:20px auto;}.grPopupBox .grIframeBox iframe{max-width:none;margin:0}#gr_overlay_close{top:4px;right:3%;width:22px;height:22px;margin-right:-8px;line-height:21px; font-size:14px;}.gr-initialLoader{width:94%;left:3%;top:12px}}",e+="div.am-bonusbar {box-sizing: border-box;line-height: 1.2;font-weight: 400;font-style: normal;text-shadow: none;letter-spacing: 0;display: inline-block;position: fixed;text-align: left;z-index: 2147483644;bottom: 82px;left: 50px;} div.am-bonus-box{box-sizing:border-box;line-height:1.2;font-weight:400;font-style:normal;text-shadow:none;letter-spacing:0;display:none;text-align:center;position:relative;background:#fff;box-shadow:0 0 40px rgba(0,0,0,.15);border-radius:.6em}div.am-bonus-box.active{display:inline-block;}.am-flex{display:flex;padding:24px 30px}.pm-widgetbar-content{text-align:left;width:250px;margin-left:20px}.pm-widgetbar-maintitle{color:inherit;font-size:18px;font-weight:500}.pm-widgetbar-subtitle{margin-top:15px;margin-left:30px;color:inherit;font-size:12px;font-weight:400;border-left:1px solid #ddd;padding-left:7px;position:relative}.pm-widgetbar-subtitle path{fill:currentColor;}.pm-widgetbar-subtitle svg{display:block;width:20px;height:14px;position:absolute;left:-28px;top:0}.pm-widget-icon{width:48px;height:48px;display:inline-block;background:#ffbe84;border-radius:50%;position:relative; line-height: 54px;flex-shrink:0;min-width:48px;}.pm-widget-icon svg.pm-widgetbar-logo {display: inline-block;}.pm-widget-icon img{width:23px;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)} .bonus-navigation{position:absolute;left:0;right:0;width:100%;bottom:4px;text-align:right;padding-right:12px}.bonus-navigation-button{background:0 0;cursor:pointer;display:inline-block;width:6px;height:6px;margin-left:2px;background:#000;border-radius:50%;border:1px solid #fff;opacity:.3}.bonus-navigation-button.active{opacity:.6}.am-bonus-box{animation:pmFadeIn 0.5s;}@keyframes pmFadeIn{from{opacity:0;transform:scale(0.95)}}.pm-widgetbar-close{position:absolute;cursor:pointer;font-size:18px!important;line-height:15px!important;text-shadow:none;width:18px;height:18px;top:7px;right:4px;border-radius:3px;color:#aaa}.bonus-navigation-button:only-child {display: none;} @media only screen and (max-width: 767px) { div.am-bonusbar {left: 5px; right: 5px; margin: auto; max-width: 400px;} div.am-bonus-box {width:100%} .pm-widgetbar-content {width: auto} } .am-widgetbar-top-bar .am-GRwidgetbar-box, .am-widgetbar-mid-top-bar .am-GRwidgetbar-box, .am-widgetbar-top-right-corner .am-GRwidgetbar-box, .am-widgetbar-top-left-corner .am-GRwidgetbar-box {bottom: auto; top:0;}",e+="@media only screen and (max-width: 767px) { .am-widgetbar-gratisfaction.am-widgetbar-top-bar.am-mob-full {width: 100%;position: relative;} .am-widgetbar-top-bar.am-mob-full .am-GRwidgetbar-box {position: relative;}div.am-widgetbar-gratisfaction.am-mob-compact{right:10px;left:auto;top:auto!important;bottom:10px!important;transform:none!important}.am-widgetbar-gratisfaction.am-mob-compact .am-widgetbar-content .am-widgetbar-title-group{display:none} .am-widgetbar-gratisfaction.am-mob-compact.loading .am-widgetbar-content {padding:0;position:absolute;top:50%;left:50%;margin:-11px 0 0 -10px} .am-widgetbar-gratisfaction.am-mob-compact .am-GRwidgetbar-box{padding:0;width:3.5em;height:3.5em;border-radius:50%!important;box-shadow:rgb(0,0,0,.25) 2px 3px 6px!important; top: auto; bottom: 0;} .am-widgetbar-gratisfaction.am-mob-compact.am-mob-top-center .am-GRwidgetbar-box, .am-widgetbar-gratisfaction.am-mob-compact.am-mob-top-left .am-GRwidgetbar-box , .am-widgetbar-gratisfaction.am-mob-compact.am-mob-top-right .am-GRwidgetbar-box {top:0;bottom:auto;} .am-widgetbar-gratisfaction.am-mob-compact .am-widgetbar-content{padding:0.95em 0}.am-widgetbar-gratisfaction.am-mob-compact .am-widgetbar-content .am-widgetbar-logo-wrap{padding-right:.3em;padding-left:.35em} .am-widgetbar-gratisfaction.am-mob-compact.am-widgetbar-bottom-bar .am-widgetbar-close, .am-widgetbar-gratisfaction.am-mob-compact.am-widgetbar-top-bar .am-widgetbar-close {display:none !important;} div.am-widgetbar-gratisfaction.am-mob-compact.am-mob-left{left:10px;right:auto}div.am-widgetbar-gratisfaction.am-mob-compact.am-mob-top{top: 0 !important;bottom: auto !important;}div.am-widgetbar-gratisfaction.am-mob-compact.am-mob-mid{right:50%;transform:translateX(50%)!important;} div.am-widgetbar-gratisfaction.am-mob-hidden{ display:none !important; } .am-mob-compact .am-widgetbar-content .am-widgetbar-logo-wrap img {height: 1.66em !important;} div.am-mob-compact.am-mob-top-left{top:0!important;bottom:auto!important;left:0!important;right:auto!important} div.am-mob-compact.am-mob-top-right{top:0!important;bottom:auto!important;right:0} div.am-mob-compact.am-mob-top-center{top:0!important;bottom:auto!important;right:50%;-webkit-transform:translateX(50%)!important;transform:translateX(50%)!important} .am-widgetbar-top-bar .am-GRwidgetbar-box, .am-widgetbar-mid-top-bar .am-GRwidgetbar-box, .am-widgetbar-top-right-corner .am-GRwidgetbar-box, .am-widgetbar-top-left-corner .am-GRwidgetbar-box {bottom: auto !important; top:0 !important;} } ",e+="@media only screen and (min-width: 767px) { .am-widgetbar-gratisfaction.am-widgetbar-top-bar.am-full {width: 100%;position: relative;} .am-widgetbar-top-bar.am-full .am-GRwidgetbar-box {position: relative;}.am-widgetbar-gratisfaction.am-compact .am-widgetbar-content .am-widgetbar-title-group{display:none} .am-widgetbar-gratisfaction.am-compact .am-GRwidgetbar-box{padding:0;width:3.5em;height:3.5em;border-radius:50%!important;box-shadow:rgb(0,0,0,.25) 2px 3px 6px!important} .am-widgetbar-gratisfaction.am-compact .am-widgetbar-content{padding:0.95em 0} .am-widgetbar-gratisfaction.am-compact.loading .am-widgetbar-content {padding:0;position:absolute;top:50%;left:50%;margin:-11px 0 0 -10px} .am-widgetbar-gratisfaction.am-compact .am-widgetbar-content .am-widgetbar-logo-wrap{padding-right:.3em;padding-left:.35em} .am-widgetbar-gratisfaction.am-widgetbar-bottom-bar.am-compact .am-widgetbar-close, .am-widgetbar-gratisfaction.am-widgetbar-top-bar.am-compact .am-widgetbar-close {display:none !important;} div.am-widgetbar-gratisfaction.am-hidden{ display:none !important; } .am-widgetbar-left-bottom-bar.am-compact{left:10px;bottom:10px}.am-widgetbar-lower-right-corner.am-compact{right:10px;bottom:10px} .am-widgetbar-side-drawer.am-compact {transform: rotate(0deg) translateX(-6px) translateY(-50%);} .am-widgetbar-left-side-drawer.am-compact {transform: translate(5px, -50%);}.am-compact .am-widgetbar-content .am-widgetbar-logo-wrap img {height: 1.66em !important;}}",e+=".am-GRPopUpOpened .grPageOverLay {position:absolute} .am-widgetbar-gratisfaction.am-ecwid{position:absolute;bottom:auto;left:auto;top:0;right:0;width:auto!important}.am-widgetbar-gratisfaction.am-ecwid .am-GRwidgetbar-box{bottom:auto;top:0;right:0} ",e+=".am-widgetbar-gratisfaction .am-GRwidgetbar-box {transition:.4s;} .am-widgetbar-gratisfaction.popup-loaded .am-GRwidgetbar-box {transform: translateY(100%);pointer-events:none;opacity:0;} .grLoyaltyPopupWrap.themeModal {position:fixed;top:0;right:0;bottom:0;left:0;z-index:2147483647;background:rgba(0,0,0,.9)} .grLoyaltyPopupWrap.themeModal .grLoyaltyPopup {top:100px;left:50%;right:auto;bottom:auto;transform:translateX(-50%);animation:none;} .grLoyaltyPopup {animation: ltPopIn 0.4s ease-in; background: #fff; box-shadow: 0 0 25px rgb(0 0 0 / 25%); position: fixed;bottom: 5px;right: 5px;width: 500px;min-height:510px; max-height:90vh; height: 640px; border-radius:14px;z-index: 2147483647;} .grLoyaltyPopup.am-popOut {animation: ltPopOut 0.2s ease-in;display:block!important} .grLoyaltyLoader {width: 100%;height:100%;background:#fff;border:1px solid #eee;border-radius: 14px;overflow:hidden;position: absolute;} .grLoyaltyLoader .grLoyaltyHeader{font-size:15px;font-weight:700; display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;height:51px}.grLoyaltyIframeBox iframe{display:block; height:100%;}.grLoyaltyIframeBox {display:none; height:100%;position: relative;border-radius: 14px;overflow:hidden;}.grLoyaltySubHeader{display:flex;align-items:center;justify-content:center;background:#333;position:relative;padding:20px;height: 140px;overflow:hidden}.grLoyaltySubHeader:after,.grLoyaltySubHeader:before{animation: ltHLoader 4s infinite ease-in-out;content:'';display:block;position:absolute;width:66%;height:100%;background:-webkit-linear-gradient(45deg,rgba(255,255,255,.1) 0,transparent 20%),-webkit-linear-gradient(99deg,rgba(255,255,255,0) 0,rgba(255,255,255,.1) 50%);background:linear-gradient(45deg,rgba(255,255,255,.1) 0,transparent 20%),linear-gradient(-9deg,rgba(255,255,255,0) 0,rgba(255,255,255,.1) 50%);-webkit-transform:skewX(-45deg);transform:skewX(-45deg);left:5%;top:0}.grLoyaltySubHeader:after{left:auto;right:8%;width:8%;background:-webkit-gradient(linear,left top,left bottom,from(rgba(255,255,255,.2)),color-stop(70%,rgba(255,255,255,0)));background:-webkit-linear-gradient(top,rgba(255,255,255,.2) 0,rgba(255,255,255,0) 70%);background:linear-gradient(to bottom,rgba(255,255,255,.2) 0,rgba(255,255,255,0) 70%)} .grLoyaltyContents{position:relative;overflow:hidden}.grLoyaltyContents:before,.grLoyaltyContents:after{animation: ltCLoader 3s infinite ease-in-out;content:'';display:block;height:50px;background:#f8f8f8;margin:25px}.grLoyaltyContents:after{height:85px;margin-top:-10px}  @keyframes ltPopIn{0%{opacity:0;transform:scale(.85)}100%{opacity:1;transform:scale(1)}} @keyframes ltCLoader{0%{background-color:rgba(165,165,165,.1)}50%{background-color:rgba(165,165,165,.4)}100%{background-color:rgba(165,165,165,.1)}} @keyframes ltHLoader{0%{opacity:0.4;}50%{opacity:1;}100%{opacity:0.4;}} .grLSHSpinner{width:36px;height:36px;border:1px solid #fff;border-radius:50%;border-left-color:transparent;animation:grLSHSpinner .8s linear infinite}@keyframes grLSHSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}} @keyframes ltPopOut {0%{transform:scale(1);opacity:1;}100%{transform:scale(0.8);opacity:0;}} .grLoyaltyPopup.grD-left-side-drawer, .grLoyaltyPopup.grD-left-bottom-bar {right: auto;left: 5px;} @media only screen and (max-width:480px){.grLoyaltyPopup.grD-mid-bottom-bar{margin-right:0!important}} .grLoyaltyPopup.grD-mid-bottom-bar {right: 50%; margin-right: -210px;} .grLoyaltyPopup.grD-bottom-bar, .grLoyaltyPopup.grD-top-bar {bottom: 0;top: 0;right: 0;left:0;margin: auto;} .grLoyaltyPopup.grD-top-bar:before, .grLoyaltyPopup.grD-bottom-bar:before {content: '';background: #000;opacity: 0.8;position: absolute;left: 50%;top: 50%;width: 100vw;height: 100vh;transform: translate(-50%, -50%);} .am-widgetbar-top-bar.popup-loaded .am-GRwidgetbar-box, .am-widgetbar-left-side-drawer.popup-loaded .am-GRwidgetbar-box {transform: translateY(-100%);} body.ec-frame .am-widgetbar-gratisfaction.am-widgetbar-top-bar {width: 280px;margin: 0 0 0 auto;position: relative; top:0; bottom:auto; left:0; right:0;} body.ec-frame .am-GRwidgetbar-box {transform: translate(0px, 0px);} .grLoyaltyPopup.grD-top-right-corner {bottom: auto; top:5px; right:5px;left:auto;margin: auto;} .grLoyaltyPopup.grD-top-left-corner {bottom: auto; top:5px; left:5px; right:auto;margin: auto;} .grLoyaltyPopup.grD-mid-top-bar {bottom:auto; top:5px; left:0;right:0;margin: auto;} @media(max-height: 540px) {.grLoyaltyPopup{min-height:440px}} @media (max-height: 540px) and (min-width: 500px) {.grLoyaltyPopup{min-height:510px; bottom:auto; top:5px; left:0;right:0;margin: auto;position: absolute;} } ",e+="@media only screen and (max-width: 480px) { .grLoyaltyPopup{width:auto;min-height:240px;bottom:0 !important;top:0 !important;max-height: none;height: auto;border-radius:0;left:0!important;right:0!important;transform: none !important;}.grLoyaltyLoader{width:100%;height:100%;border-radius:0}.grLoyaltyIframeBox{border-radius:0;height:100%}.grLoyaltyIframeBox iframe{height:100%;display:block} .grLoyaltyPopup .gr-closebase{top: 13px; right: 12px;} .grLoyaltyPopup.grM-right .gr-closebase{right:10px;margin-right:0} .grLoyaltyPopup.grD-top-bar:before, .grLoyaltyPopup.grD-bottom-bar:before {opacity:0;display:none;} } @media(min-width:418px) and (min-device-width:418px){.grCampaign .gr-closebase{background:#fff!important;top:32px;right:-18px}} body.ec-frame .am-widgetbar-gratisfaction.am-widgetbar-top-bar { width: 100% !important;margin-bottom: 8px;} body.ec-frame .am-widgetbar-gratisfaction.am-widgetbar-bottom-bar { width: 100% !important;margin-bottom: 8px;} #ecwid_html .grLoyaltyPopup.grD-bottom-bar {top:auto; bottom: 80px;} #ecwid_html .grLoyaltyPopup.grD-top-bar {bottom: auto; top: 80px;} #ecwid_html .grLoyaltyPopup {min-height: 0;}"}catch(e){}}},p.GRWidget=e}(window,document);try{var AMGRConfig,gr_id_site,is_loggedin;void 0===AMGRConfig&&(AMGRConfig={}),AMGRConfig.callback_url="https://gratisfaction.appsmav.com",AMGRConfig.aws_cdn_url="https://cdn.appsmav.com/gr",AMGRConfig.pc_js_url=AMGRConfig.aws_cdn_url,AMGRConfig.js_min=".min","undefined"!=typeof Shopify&&(void 0!==Shopify.Checkout&&void 0!==Shopify.Checkout.isOrderStatusPage||void 0!==Shopify.Checkout&&void 0!==Shopify.Checkout.page&&"thank_you"==Shopify.Checkout.page)&&(AMGRConfig.site={},AMGRConfig.user={},void 0!==(gr_id_site=localStorage.getItem("GR_id_site"))&&""!=gr_id_site&&null!=gr_id_site&&(AMGRConfig.site.id=gr_id_site),AMGRConfig.site.domain=Shopify.shop,AMGRConfig.site.platform="gr_shopify",AMGRConfig.user.email="",AMGRConfig.user.id="",AMGRConfig.user.name="",null!=(is_loggedin=localStorage.getItem("GRPlatformLoginSession"))&&""!=is_loggedin&&(AMGRConfig.user.name=Shopify.checkout.billing_address.first_name+" "+Shopify.checkout.billing_address.last_name,AMGRConfig.user.first_name=Shopify.checkout.billing_address.first_name,AMGRConfig.user.last_name=Shopify.checkout.billing_address.last_name,AMGRConfig.user.email=Shopify.checkout.email,AMGRConfig.user.id=Shopify.checkout.customer_id,AMGRConfig.user.country=Shopify.checkout.billing_address.country),AMGRConfig.user.order_id=Shopify.checkout.order_id,localStorage.setItem("gr_last_order_id",Shopify.checkout.order_id)),GRWidgetObj=new GRWidget,GRWidgetObj.init(AMGRConfig)}catch(e){console.error("Error in GR Widget",e)}